2025-04-29 15:40:07,526 - gemini_model - INFO - Model preference set to: Base Model
2025-04-29 15:40:09,094 - gemini_model - INFO - Using base model
2025-04-29 15:40:31,608 - gemini_model - INFO - Model response generated
2025-05-22 19:33:17,630 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 19:33:22,590 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 19:33:23,362 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 19:33:24,230 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 19:33:26,906 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 19:33:27,023 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 19:33:27,180 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 19:33:27,361 - gemini_rag_model - INFO - Loading RAG data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson...
2025-05-22 19:33:28,354 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 19:33:28,493 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 19:33:30,096 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 19:33:31,030 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 19:33:31,869 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 19:33:32,005 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 19:33:32,152 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x110fa0340> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 19:33:32,322 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x110f81190> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 19:33:32,462 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 19:33:32,586 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 19:33:32,781 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 19:33:33,655 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 19:33:38,363 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total text mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 19:33:38,532 - rag_engine - INFO - RAGEngine: Stored/updated text map with 20 new entries. Total map size: 20.
2025-05-22 19:33:38,682 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 19:33:38,819 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 19:33:39,900 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-22 19:33:40,035 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-22 19:33:40,209 - gemini_rag_model - INFO - RAG data loaded and processed. 20 items upserted/indexed.
2025-05-22 19:33:40,361 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'Are there any art-themed hotels in Recoleta?...'
2025-05-22 19:33:40,514 - rag_engine - INFO - RAGEngine: Received query: 'Are there any art-themed hotels in Recoleta?...'
2025-05-22 19:33:40,667 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 19:33:40,799 - rag_vector_db - INFO - Performing search for query: 'Are there any art-themed hotels in Recoleta?...' with top_k=3
2025-05-22 19:33:41,983 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 19:33:42,119 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
A luxurious art-themed hotel in Recoleta, offering a sophisticated experience for art connoisseurs and culture enthusiasts. Expect elegantly appointed rooms featuring works by local artists, a private gallery, and curated art tours.
---
A...
2025-05-22 19:33:42,283 - gemini_model - INFO - Using base model
2025-05-22 19:33:44,163 - gemini_model - INFO - Model response generated
2025-05-22 19:33:44,324 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 19:33:44,496 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'Tell me about hotels near San Telmo market with antique furnishings....'
2025-05-22 19:33:44,674 - rag_engine - INFO - RAGEngine: Received query: 'Tell me about hotels near San Telmo market with antique furnishings....'
2025-05-22 19:33:44,833 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 19:33:44,984 - rag_vector_db - INFO - Performing search for query: 'Tell me about hotels near San Telmo market with antique furnishings....' with top_k=3
2025-05-22 19:33:45,576 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 19:33:45,708 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
A boutique hotel celebrating local craftsmanship, located on a quiet street in historic San Telmo. Ideal for travelers seeking authenticity and unique design. Expect rooms adorned with artisan pieces, a cozy cafe, and workshops with local...
2025-05-22 19:33:45,884 - gemini_model - INFO - Using base model
2025-05-22 19:33:47,483 - gemini_model - INFO - Model response generated
2025-05-22 19:33:47,654 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 19:33:47,803 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'What are the best surf spots in Buenos Aires?...'
2025-05-22 19:33:47,986 - rag_engine - INFO - RAGEngine: Received query: 'What are the best surf spots in Buenos Aires?...'
2025-05-22 19:33:48,129 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 19:33:48,284 - rag_vector_db - INFO - Performing search for query: 'What are the best surf spots in Buenos Aires?...' with top_k=3
2025-05-22 19:33:49,100 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 19:33:49,299 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
A charming hotel housed in a historic building, reflecting Buenos Aires' Belle Époque architecture. Ideal for history enthusiasts and cultural explorers. Expect classic decor, high ceilings, and a location steeped in political and cultura...
2025-05-22 19:33:49,496 - gemini_model - INFO - Using base model
2025-05-22 19:33:51,053 - gemini_model - INFO - Model response generated
2025-05-22 19:33:51,208 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 20:52:43,253 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 20:52:48,400 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 20:52:49,322 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 20:52:50,139 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 20:53:47,426 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 20:53:49,101 - gemini_rag_model - INFO - Loading RAG data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson...
2025-05-22 20:53:49,968 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 20:53:50,155 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 20:53:52,285 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 20:53:53,281 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 20:53:54,328 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 20:53:54,504 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 20:53:54,682 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x139a6a130> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 20:53:54,835 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x102aa5790> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 20:53:54,998 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 20:53:55,176 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 20:53:55,331 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 20:53:56,508 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 20:54:00,928 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total text mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 20:54:01,105 - rag_engine - INFO - RAGEngine: Stored/updated text map with 20 new entries. Total map size: 20.
2025-05-22 20:54:01,264 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 20:54:01,442 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 20:54:02,550 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-22 20:54:02,700 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-22 20:54:02,856 - gemini_rag_model - INFO - RAG data loaded and processed. 20 items upserted/indexed.
2025-05-22 20:54:03,033 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'Tell me the best places to have tea in buenos aires...'
2025-05-22 20:54:03,229 - rag_engine - INFO - RAGEngine: Received query: 'Tell me the best places to have tea in buenos aires...'
2025-05-22 20:54:03,420 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 20:54:03,589 - rag_vector_db - INFO - Performing search for query: 'Tell me the best places to have tea in buenos aires...' with top_k=3
2025-05-22 20:54:04,831 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 20:54:04,965 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
An elegant hotel with a serene private garden, offering a peaceful oasis in upscale Recoleta. Suited for travelers seeking tranquility and refined comfort. Expect beautifully decorated rooms, afternoon tea service, and a quiet library.
--...
2025-05-22 20:54:05,145 - gemini_model - INFO - Using base model
2025-05-22 20:54:06,641 - gemini_model - INFO - Model response generated
2025-05-22 20:54:06,769 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 20:59:11,814 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 21:00:34,798 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 21:00:39,291 - test_rag_query - INFO - Starting RAG query test...
2025-05-22 21:00:40,066 - test_rag_query - INFO - Using data file for ingestion: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:00:40,258 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 21:00:41,008 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 21:00:41,759 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 21:00:42,540 - test_rag_query - INFO - Performing data ingestion first to populate text map and ensure index has data...
2025-05-22 21:00:42,714 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:00:42,903 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 21:00:44,618 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:00:45,680 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 21:00:47,041 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 21:00:47,264 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 21:00:47,411 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x151423670> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 21:00:47,534 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1514009a0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 21:00:47,689 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 21:00:47,855 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 21:00:48,034 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 21:00:49,054 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 21:00:55,421 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total text mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 21:00:55,615 - rag_engine - INFO - RAGEngine: Stored/updated text map with 20 new entries. Total map size: 20.
2025-05-22 21:00:55,843 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 21:00:55,974 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:00:56,140 - rag_vector_db - ERROR - Failed to upsert datapoints to index travel_documents_index
2025-05-22 21:00:56,299 - test_rag_query - ERROR - FAILURE during data ingestion step in query test script.
2025-05-22 21:04:02,910 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 21:04:07,778 - test_rag_query - INFO - Starting RAG query test...
2025-05-22 21:04:08,583 - test_rag_query - INFO - Using data file for ingestion: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:04:08,731 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 21:04:09,579 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 21:04:10,510 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 21:04:11,286 - test_rag_query - INFO - Performing data ingestion first to populate text map and ensure index has data...
2025-05-22 21:04:11,430 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:04:11,602 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 21:04:13,370 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:04:14,438 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 21:04:15,285 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 21:04:15,443 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 21:04:15,603 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x11eee5700> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 21:04:15,748 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x11eebc730> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 21:04:15,908 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 21:04:16,069 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 21:04:16,182 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 21:04:17,157 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 21:04:21,633 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 21:04:21,830 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-22 21:04:21,964 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 21:04:22,097 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:04:23,365 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-22 21:04:23,512 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-22 21:04:23,684 - test_rag_query - INFO - Data ingestion step completed. 20 items processed/upserted.
2025-05-22 21:04:23,847 - test_rag_query - INFO - 
--- Test Case 1: Querying for: 'Are there any art-themed hotels in Recoleta?' ---
2025-05-22 21:04:26,795 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 21:04:26,931 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 21:04:27,069 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 21:04:27,218 - rag_engine - INFO - RAGEngine: Received query: 'Are there any art-themed hotels in Recoleta?...'
2025-05-22 21:04:27,371 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:04:27,558 - rag_vector_db - INFO - Performing search for query: 'Are there any art-themed hotels in Recoleta?...' with top_k=3
2025-05-22 21:04:29,034 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 21:04:29,171 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
From hotel 'Alvear Art Hotel' (chunk: sample_travel.ndjson_Alvear Art Hotel_chunk_0):
A luxurious art-themed hotel in Recoleta, offering a sophisticated experience for art connoisseurs and culture enthusiasts. Expect elegantly appointed r...
2025-05-22 21:04:29,302 - gemini_model - INFO - Using base model
2025-05-22 21:04:31,425 - gemini_model - INFO - Model response generated
2025-05-22 21:04:31,582 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 21:04:31,739 - test_rag_query - INFO - 
--- Test Case 2: Querying for: 'What are the best surf spots in Buenos Aires?' ---
2025-05-22 21:04:31,945 - rag_engine - INFO - RAGEngine: Received query: 'What are the best surf spots in Buenos Aires?...'
2025-05-22 21:04:32,118 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:04:32,246 - rag_vector_db - INFO - Performing search for query: 'What are the best surf spots in Buenos Aires?...' with top_k=3
2025-05-22 21:04:32,866 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 21:04:33,024 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
From hotel 'Monserrat Heritage Inn' (chunk: sample_travel.ndjson_Monserrat Heritage Inn_chunk_0):
A charming hotel housed in a historic building, reflecting Buenos Aires' Belle Époque architecture. Ideal for history enthusiasts and cultur...
2025-05-22 21:04:33,164 - gemini_model - INFO - Using base model
2025-05-22 21:04:34,288 - gemini_model - INFO - Model response generated
2025-05-22 21:04:34,450 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 21:08:13,400 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:08:14,658 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'which are the best hotels located in palermo in buenos aires...'
2025-05-22 21:08:14,920 - rag_engine - INFO - RAGEngine: Received query: 'which are the best hotels located in palermo in buenos aires...'
2025-05-22 21:08:15,219 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:08:15,511 - rag_vector_db - INFO - Performing search for query: 'which are the best hotels located in palermo in buenos aires...' with top_k=3
2025-05-22 21:08:16,401 - rag_vector_db - ERROR - Error during vector search operation
2025-05-22 21:12:51,088 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 21:12:55,940 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 21:12:56,761 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 21:12:57,560 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 21:13:20,024 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:13:21,552 - gemini_model - INFO - Using base model
2025-05-22 21:13:33,217 - gemini_model - INFO - Model response generated
2025-05-22 21:13:35,957 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:13:37,004 - gemini_rag_model - INFO - Loading RAG data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson...
2025-05-22 21:13:37,808 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:13:37,973 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 21:13:38,954 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:13:39,760 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 21:13:40,682 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 21:13:40,851 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 21:13:41,035 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x156c2bc10> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 21:13:41,175 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x156c2b880> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 21:13:41,351 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 21:13:41,536 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 21:13:41,711 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 21:13:42,668 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 21:13:46,996 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 21:13:47,151 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-22 21:13:47,303 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 21:13:47,428 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:13:48,444 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-22 21:13:48,608 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-22 21:13:48,781 - gemini_rag_model - INFO - RAG data loaded and processed. 20 items upserted/indexed.
2025-05-22 21:13:48,928 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'What are the most luxurious hotels to stay in buenos aires?...'
2025-05-22 21:13:49,078 - rag_engine - INFO - RAGEngine: Received query: 'What are the most luxurious hotels to stay in buenos aires?...'
2025-05-22 21:13:49,273 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:13:49,418 - rag_vector_db - INFO - Performing search for query: 'What are the most luxurious hotels to stay in buenos aires?...' with top_k=3
2025-05-22 21:13:50,638 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 21:13:50,765 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
Context information is provided below.
---------------------
From hotel 'Monserrat Heritage Inn' (chunk: sample_travel.ndjson_Monserrat Heritage Inn_chunk_0):
A charming hotel housed in a historic building, reflecting Buenos Aires' Belle Époque architecture. Ideal for history enthusiasts and cultur...
2025-05-22 21:13:50,915 - gemini_model - INFO - Using base model
2025-05-22 21:13:52,470 - gemini_model - INFO - Model response generated
2025-05-22 21:13:52,582 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 21:16:41,415 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:16:42,317 - gemini_model - INFO - Using base model
2025-05-22 21:16:50,873 - gemini_model - INFO - Model response generated
2025-05-22 21:18:20,791 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-22 21:18:25,473 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-22 21:18:26,243 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-22 21:18:27,014 - rag_engine - INFO - RAGEngine initialized.
2025-05-22 21:19:04,572 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:19:06,353 - gemini_rag_model - INFO - Loading RAG data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson...
2025-05-22 21:19:07,146 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-22 21:19:07,302 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-22 21:19:09,334 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:19:10,356 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-22 21:19:11,249 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-22 21:19:11,375 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-22 21:19:11,538 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1174eb9d0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-22 21:19:11,687 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x117750760> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-22 21:19:11,861 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-22 21:19:12,011 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-22 21:19:12,205 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-22 21:19:13,073 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-22 21:19:17,545 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-22 21:19:17,675 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-22 21:19:17,803 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-22 21:19:17,968 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-22 21:19:19,229 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-22 21:19:19,350 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-22 21:19:19,514 - gemini_rag_model - INFO - RAG data loaded and processed. 20 items upserted/indexed.
2025-05-22 21:19:19,670 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'Tell me the best places to have tea in Buenos Aires...'
2025-05-22 21:19:19,833 - rag_engine - INFO - RAGEngine: Received query: 'Tell me the best places to have tea in Buenos Aires...'
2025-05-22 21:19:20,016 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:19:20,144 - rag_vector_db - INFO - Performing search for query: 'Tell me the best places to have tea in Buenos Aires...' with top_k=3
2025-05-22 21:19:21,362 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 21:19:21,508 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-22 21:19:21,669 - gemini_model - INFO - Using base model
2025-05-22 21:19:23,210 - gemini_model - INFO - Model response generated
2025-05-22 21:19:23,358 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-22 21:20:03,097 - gemini_model - INFO - Model preference set to: Base Model
2025-05-22 21:20:04,141 - gemini_rag_model - INFO - RAG Chat: Received prompt: 'what is the most luxurious hotel in buenos aires?...'
2025-05-22 21:20:04,291 - rag_engine - INFO - RAGEngine: Received query: 'what is the most luxurious hotel in buenos aires?...'
2025-05-22 21:20:04,449 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-22 21:20:04,584 - rag_vector_db - INFO - Performing search for query: 'what is the most luxurious hotel in buenos aires?...' with top_k=3
2025-05-22 21:20:05,258 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-22 21:20:05,439 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-22 21:20:05,612 - gemini_model - INFO - Using base model
2025-05-22 21:20:07,242 - gemini_model - INFO - Model response generated
2025-05-22 21:20:07,411 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 15:22:33,827 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:22:39,559 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:22:40,371 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:22:41,119 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:24:32,475 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:24:37,348 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:24:38,179 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:24:38,982 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:24:39,780 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:24:42,205 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:24:42,396 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:24:42,525 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:24:42,700 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:24:46,499 - gemini_model - INFO - Model response generated
2025-05-23 15:24:46,662 - gemini_model - INFO - Using base model
2025-05-23 15:24:50,344 - gemini_model - INFO - Model response generated
2025-05-23 15:24:50,531 - gemini_model - INFO - Using base model
2025-05-23 15:24:54,178 - gemini_model - INFO - Model response generated
2025-05-23 15:24:54,379 - gemini_model - INFO - Using base model
2025-05-23 15:25:02,414 - gemini_model - INFO - Model response generated
2025-05-23 15:25:02,585 - gemini_model - INFO - Using base model
2025-05-23 15:25:09,903 - gemini_model - INFO - Model response generated
2025-05-23 15:25:10,061 - gemini_model - INFO - Using base model
2025-05-23 15:25:17,555 - gemini_model - INFO - Model response generated
2025-05-23 15:25:17,711 - gemini_model - INFO - Using base model
2025-05-23 15:25:23,914 - gemini_model - INFO - Model response generated
2025-05-23 15:25:24,082 - gemini_model - INFO - Using base model
2025-05-23 15:25:31,414 - gemini_model - INFO - Model response generated
2025-05-23 15:25:31,587 - gemini_model - INFO - Using base model
2025-05-23 15:25:36,575 - gemini_model - INFO - Model response generated
2025-05-23 15:27:07,348 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:27:13,323 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:27:14,146 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:27:14,902 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:28:11,816 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:28:17,515 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:28:18,301 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:28:19,096 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:29:08,766 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:29:14,043 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:29:14,846 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:29:15,669 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:29:16,465 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:29:18,774 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:29:18,935 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:29:19,072 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:29:19,246 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:29:25,225 - gemini_model - INFO - Model response generated
2025-05-23 15:29:25,412 - gemini_model - INFO - Using base model
2025-05-23 15:29:31,630 - gemini_model - INFO - Model response generated
2025-05-23 15:29:31,785 - gemini_model - INFO - Using base model
2025-05-23 15:29:37,839 - gemini_model - INFO - Model response generated
2025-05-23 15:31:02,329 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:31:07,572 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:31:08,356 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:31:09,137 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:31:09,960 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:31:10,106 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:31:10,265 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:31:10,405 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-23 15:31:10,540 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:31:12,385 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:31:13,450 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:31:14,421 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:31:14,562 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:31:14,712 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12ca94790> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:31:14,879 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12ca78700> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:31:15,065 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:31:15,208 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:31:15,355 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:31:16,324 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:31:20,699 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-23 15:31:20,858 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 15:31:20,988 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 15:31:21,150 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:31:22,434 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 15:31:22,606 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 15:31:22,825 - rag_engine - INFO - RAGEngine: Received query: 'Can you recommend some boutique hotels in Buenos Aires that would be good for a solo traveler intere...'
2025-05-23 15:31:22,989 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:31:23,135 - rag_vector_db - INFO - Performing search for query: 'Can you recommend some boutique hotels in Buenos Aires that would be good for a solo traveler intere...' with top_k=5
2025-05-23 15:31:24,355 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:31:24,523 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:31:24,656 - gemini_model - INFO - Using base model
2025-05-23 15:31:27,380 - gemini_model - INFO - Model response generated
2025-05-23 15:31:27,547 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:31:27,713 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:31:28,934 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:31:29,068 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:31:29,259 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:31:29,452 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:31:31,465 - gemini_model - INFO - Model response generated
2025-05-23 15:31:31,633 - rag_engine - INFO - RAGEngine: Received query: 'What are some must-visit cultural sites in Buenos Aires?...'
2025-05-23 15:31:31,767 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:31:31,920 - rag_vector_db - INFO - Performing search for query: 'What are some must-visit cultural sites in Buenos Aires?...' with top_k=5
2025-05-23 15:31:32,826 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:31:33,014 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:31:33,161 - gemini_model - INFO - Using base model
2025-05-23 15:31:35,580 - gemini_model - INFO - Model response generated
2025-05-23 15:31:35,725 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:31:35,875 - gemini_model - INFO - Using base model
2025-05-23 15:31:38,819 - gemini_model - INFO - Model response generated
2025-05-23 15:31:38,975 - rag_engine - INFO - RAGEngine: Received query: 'Tell me about tango shows in Buenos Aires...'
2025-05-23 15:31:39,130 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:31:39,298 - rag_vector_db - INFO - Performing search for query: 'Tell me about tango shows in Buenos Aires...' with top_k=5
2025-05-23 15:31:39,932 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:31:40,094 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:31:40,226 - gemini_model - INFO - Using base model
2025-05-23 15:31:42,075 - gemini_model - INFO - Model response generated
2025-05-23 15:31:42,210 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:31:42,380 - gemini_model - INFO - Using base model
2025-05-23 15:31:43,974 - gemini_model - INFO - Model response generated
2025-05-23 15:32:59,626 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:33:04,527 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:33:05,327 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:33:06,118 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:33:06,930 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:33:07,082 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:33:07,219 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:33:07,390 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-23 15:33:07,551 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:33:09,193 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:33:10,332 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:33:11,189 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:33:11,329 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:33:11,490 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12a824040> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:33:11,641 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x10555dfd0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:33:11,795 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:33:11,941 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:33:12,145 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:33:13,195 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:33:17,558 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-23 15:33:17,733 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 15:33:17,877 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 15:33:18,047 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:33:19,059 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 15:33:19,239 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 15:33:19,386 - rag_engine - INFO - RAGEngine: Received query: 'Can you recommend some boutique hotels in Buenos Aires that would be good for a solo traveler intere...'
2025-05-23 15:33:19,520 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:33:19,659 - rag_vector_db - INFO - Performing search for query: 'Can you recommend some boutique hotels in Buenos Aires that would be good for a solo traveler intere...' with top_k=5
2025-05-23 15:33:20,854 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:33:20,996 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:33:21,170 - gemini_model - INFO - Using base model
2025-05-23 15:33:23,988 - gemini_model - INFO - Model response generated
2025-05-23 15:33:24,105 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:33:24,263 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:33:25,310 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:33:25,469 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:33:25,605 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:33:25,750 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:33:28,547 - gemini_model - INFO - Model response generated
2025-05-23 15:33:28,729 - rag_engine - INFO - RAGEngine: Received query: 'What are some must-visit cultural sites in Buenos Aires?...'
2025-05-23 15:33:28,894 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:33:29,041 - rag_vector_db - INFO - Performing search for query: 'What are some must-visit cultural sites in Buenos Aires?...' with top_k=5
2025-05-23 15:33:29,884 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:33:29,995 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:33:30,146 - gemini_model - INFO - Using base model
2025-05-23 15:33:32,419 - gemini_model - INFO - Model response generated
2025-05-23 15:33:32,572 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:33:32,736 - gemini_model - INFO - Using base model
2025-05-23 15:33:35,317 - gemini_model - INFO - Model response generated
2025-05-23 15:33:35,491 - rag_engine - INFO - RAGEngine: Received query: 'Tell me about tango shows in Buenos Aires...'
2025-05-23 15:33:35,657 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:33:35,864 - rag_vector_db - INFO - Performing search for query: 'Tell me about tango shows in Buenos Aires...' with top_k=5
2025-05-23 15:33:36,532 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:33:36,695 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:33:36,886 - gemini_model - INFO - Using base model
2025-05-23 15:33:38,831 - gemini_model - INFO - Model response generated
2025-05-23 15:33:38,980 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:33:39,132 - gemini_model - INFO - Using base model
2025-05-23 15:33:40,912 - gemini_model - INFO - Model response generated
2025-05-23 15:35:37,064 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:35:42,228 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:35:43,026 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:35:43,892 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:36:38,404 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:38:29,956 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:38:31,895 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:42:17,561 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:42:20,201 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:42:20,334 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:43:17,371 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:43:22,407 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:43:23,462 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:43:24,236 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:43:25,062 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:43:27,979 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:43:28,125 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:43:28,274 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:43:28,441 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:43:32,063 - gemini_model - INFO - Model response generated
2025-05-23 15:43:32,243 - gemini_model - INFO - Using base model
2025-05-23 15:43:36,154 - gemini_model - INFO - Model response generated
2025-05-23 15:43:36,319 - gemini_model - INFO - Using base model
2025-05-23 15:43:40,297 - gemini_model - INFO - Model response generated
2025-05-23 15:43:40,446 - gemini_model - INFO - Using base model
2025-05-23 15:43:49,995 - gemini_model - INFO - Model response generated
2025-05-23 15:43:50,132 - gemini_model - INFO - Using base model
2025-05-23 15:43:57,040 - gemini_model - INFO - Model response generated
2025-05-23 15:43:57,221 - gemini_model - INFO - Using base model
2025-05-23 15:44:05,769 - gemini_model - INFO - Model response generated
2025-05-23 15:44:06,213 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:44:06,587 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:44:06,827 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:44:08,408 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:44:14,950 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:44:15,084 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:44:15,227 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:44:15,393 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-23 15:44:15,534 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:44:16,371 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:44:17,226 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:44:18,064 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:44:18,213 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:44:18,385 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1379aaa90> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:44:18,560 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x137b42820> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:44:18,689 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:44:18,844 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:44:18,999 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:44:19,827 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:44:23,686 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-23 15:44:23,852 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 15:44:23,999 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 15:44:24,192 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:44:25,243 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 15:44:25,414 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 15:44:25,562 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:44:25,758 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:44:25,962 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:44:26,770 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:44:32,727 - rag_engine - INFO - RAGEngine: Received query: 'I want to visit Buenos Aires. What hotels do you recommend?...'
2025-05-23 15:44:32,889 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:44:33,022 - rag_vector_db - INFO - Performing search for query: 'I want to visit Buenos Aires. What hotels do you recommend?...' with top_k=5
2025-05-23 15:44:34,351 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:44:34,510 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:44:34,657 - gemini_model - INFO - Using base model
2025-05-23 15:44:36,762 - gemini_model - INFO - Model response generated
2025-05-23 15:44:36,900 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:44:37,086 - gemini_model - INFO - Using base model
2025-05-23 15:44:39,171 - gemini_model - INFO - Model response generated
2025-05-23 15:44:39,307 - rag_engine - INFO - RAGEngine: Received query: 'What are some budget-friendly options?...'
2025-05-23 15:44:39,440 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:44:39,579 - rag_vector_db - INFO - Performing search for query: 'What are some budget-friendly options?...' with top_k=5
2025-05-23 15:44:40,281 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:44:40,450 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:44:40,654 - gemini_model - INFO - Using base model
2025-05-23 15:44:42,292 - gemini_model - INFO - Model response generated
2025-05-23 15:44:42,450 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:44:42,795 - gemini_model - INFO - Using base model
2025-05-23 15:44:44,833 - gemini_model - INFO - Model response generated
2025-05-23 15:44:45,383 - rag_engine - INFO - RAGEngine: Received query: 'I'm interested in cultural experiences...'
2025-05-23 15:44:45,612 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:44:45,779 - rag_vector_db - INFO - Performing search for query: 'I'm interested in cultural experiences...' with top_k=5
2025-05-23 15:44:46,424 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:44:46,575 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:44:46,768 - gemini_model - INFO - Using base model
2025-05-23 15:44:49,202 - gemini_model - INFO - Model response generated
2025-05-23 15:44:49,347 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:44:49,684 - gemini_model - INFO - Using base model
2025-05-23 15:44:51,889 - gemini_model - INFO - Model response generated
2025-05-23 15:47:59,132 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:48:06,150 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:48:07,315 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:48:08,809 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:48:10,649 - gemini_model - INFO - Using fine-tuned model
2025-05-23 15:48:14,915 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 15:48:15,170 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 15:48:15,446 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 15:48:15,604 - gemini_model - INFO - Using base (fallback) model
2025-05-23 15:48:20,130 - gemini_model - INFO - Model response generated
2025-05-23 15:48:20,274 - gemini_model - INFO - Using base model
2025-05-23 15:48:24,347 - gemini_model - INFO - Model response generated
2025-05-23 15:48:24,695 - gemini_model - INFO - Using base model
2025-05-23 15:48:29,203 - gemini_model - INFO - Model response generated
2025-05-23 15:48:29,482 - gemini_model - INFO - Using base model
2025-05-23 15:48:37,249 - gemini_model - INFO - Model response generated
2025-05-23 15:48:37,369 - gemini_model - INFO - Using base model
2025-05-23 15:48:45,318 - gemini_model - INFO - Model response generated
2025-05-23 15:48:45,502 - gemini_model - INFO - Using base model
2025-05-23 15:48:53,644 - gemini_model - INFO - Model response generated
2025-05-23 15:48:53,800 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:48:53,968 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:48:54,129 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:48:55,055 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:48:56,089 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-23 15:48:56,860 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:48:57,029 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:48:57,927 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:48:58,273 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:48:59,152 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:48:59,504 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:00,431 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:00,812 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:01,928 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:02,277 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:03,148 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:03,485 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:04,576 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:05,115 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:06,061 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:06,465 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:07,483 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:07,803 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:08,723 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:09,124 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:10,013 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:10,387 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:11,479 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:11,835 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:12,672 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:13,038 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:13,774 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:14,164 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:15,217 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:15,588 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:16,353 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:16,710 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:17,590 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:17,969 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:18,774 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:19,164 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:20,234 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:20,597 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:21,548 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:21,898 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:22,978 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:23,321 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:24,415 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:24,752 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:25,625 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:25,948 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:26,903 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:27,232 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:28,109 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:28,395 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:29,293 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:29,624 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:30,433 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:30,750 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:31,606 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:31,757 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-23 15:49:31,912 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:49:32,780 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:33,764 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:49:34,618 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:49:34,760 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:49:34,950 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14f090520> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:49:35,089 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14f090fd0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:49:35,231 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:49:35,412 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:49:35,557 - rag_vector_db - INFO - Performing search for query: 'budget travel options...' with top_k=10
2025-05-23 15:49:35,694 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:49:36,557 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:49:38,561 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:49:38,695 - rag_vector_db - INFO - Performing search for query: 'cultural experiences...' with top_k=10
2025-05-23 15:49:39,383 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:49:39,506 - rag_vector_db - INFO - Performing search for query: 'beach destinations...' with top_k=10
2025-05-23 15:49:40,101 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:49:40,265 - rag_vector_db - INFO - Performing search for query: 'adventure activities...' with top_k=10
2025-05-23 15:49:41,031 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:49:41,211 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:49:41,371 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 15:49:41,498 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 15:49:41,675 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-23 15:49:41,820 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:49:42,698 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:43,565 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:49:44,370 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:49:44,509 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:49:44,639 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14cf6e9d0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:49:44,769 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14f08a430> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:49:44,925 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:49:45,112 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:49:48,479 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-23 15:49:48,638 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 15:49:48,743 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 15:49:48,890 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:49,879 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 15:49:50,028 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 15:49:50,194 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 15:49:50,385 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 15:49:50,529 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 15:49:51,466 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 15:49:52,434 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-23 15:49:53,349 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:53,522 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:54,393 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:54,662 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:55,529 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:55,819 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:56,620 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:56,899 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:57,683 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:57,998 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:49:58,736 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:49:59,047 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:00,172 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:00,490 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:01,580 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:01,907 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:02,747 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:03,050 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:03,923 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:04,236 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:05,163 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:05,513 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:06,494 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:06,825 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:07,755 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:08,065 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:09,130 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:09,478 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:10,310 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:10,629 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:11,654 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:11,985 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:13,000 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:13,375 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:14,225 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:14,504 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:15,337 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:15,652 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:16,465 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:16,780 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:17,635 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:17,981 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:19,062 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:19,351 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:20,184 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:20,522 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:21,416 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:21,699 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:22,500 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:22,834 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:23,909 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:24,243 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:25,225 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:25,555 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:26,592 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 15:50:26,763 - rag_engine - INFO - RAGEngine: Received query: 'I want to visit Buenos Aires. What hotels do you recommend?...'
2025-05-23 15:50:26,915 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:50:27,056 - rag_vector_db - INFO - Performing search for query: 'I want to visit Buenos Aires. What hotels do you recommend?...' with top_k=5
2025-05-23 15:50:28,186 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:50:28,354 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 15:50:28,491 - gemini_model - INFO - Using base model
2025-05-23 15:50:30,849 - gemini_model - INFO - Model response generated
2025-05-23 15:50:31,005 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:50:31,160 - gemini_model - INFO - Using base model
2025-05-23 15:50:33,330 - gemini_model - INFO - Model response generated
2025-05-23 15:50:33,475 - rag_engine - INFO - RAGEngine: Received query: 'What are some budget-friendly options?...'
2025-05-23 15:50:33,627 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:50:33,783 - rag_vector_db - INFO - Performing search for query: 'What are some budget-friendly options?...' with top_k=5
2025-05-23 15:50:34,434 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:50:34,597 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:34,800 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:34,938 - rag_engine - WARNING - Data for chunk ID user_003_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:35,106 - rag_engine - WARNING - Data for chunk ID user_002_special_requirements not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:35,222 - rag_engine - WARNING - Data for chunk ID user_001_special_requirements not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:35,377 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-23 15:50:35,537 - gemini_model - INFO - Using base model
2025-05-23 15:50:38,527 - gemini_model - INFO - Model response generated
2025-05-23 15:50:38,685 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:50:38,838 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-23 15:50:38,945 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 15:50:39,888 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 15:50:40,841 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 15:50:41,827 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 15:50:41,974 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 15:50:42,173 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14f0c0100> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 15:50:42,323 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14f08a130> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 15:50:42,517 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 15:50:42,682 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 15:50:42,887 - rag_vector_db - INFO - Performing search for query: 'What are some budget-friendly options?...' with top_k=10
2025-05-23 15:50:44,004 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:50:44,140 - gemini_model - INFO - Using base model
2025-05-23 15:50:48,565 - gemini_model - INFO - Model response generated
2025-05-23 15:50:48,715 - rag_vector_db - INFO - Performing search for query: 'What are some budget-friendly options?...' with top_k=10
2025-05-23 15:50:49,343 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:50:49,538 - rag_engine - INFO - RAGEngine: Received query: 'I'm interested in cultural experiences...'
2025-05-23 15:50:49,673 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 15:50:49,826 - rag_vector_db - INFO - Performing search for query: 'I'm interested in cultural experiences...' with top_k=5
2025-05-23 15:50:50,335 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-23 15:50:50,485 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:50,667 - rag_engine - WARNING - Data for chunk ID user_003_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:50,823 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:50,965 - rag_engine - WARNING - Data for chunk ID user_002_travel_goals not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:51,121 - rag_engine - WARNING - Data for chunk ID user_001_travel_goals not found in RAGEngine.chunk_data_map.
2025-05-23 15:50:51,296 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-23 15:50:51,440 - gemini_model - INFO - Using base model
2025-05-23 15:50:56,178 - gemini_model - INFO - Model response generated
2025-05-23 15:50:56,339 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-23 15:50:56,468 - rag_vector_db - INFO - Performing search for query: 'I'm interested in cultural experiences...' with top_k=10
2025-05-23 15:50:57,038 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 15:50:57,212 - gemini_model - INFO - Using base model
2025-05-23 15:51:00,355 - gemini_model - INFO - Model response generated
2025-05-23 15:51:00,496 - rag_vector_db - INFO - Performing search for query: 'I'm interested in cultural experiences...' with top_k=10
2025-05-23 15:51:01,191 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 16:33:06,251 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:33:12,347 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:33:13,147 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:33:13,953 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:34:31,896 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:34:38,565 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:34:39,400 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:34:40,208 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:34:43,355 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 16:34:44,308 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:34:44,502 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 16:34:45,393 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:34:45,614 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:34:45,738 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:34:45,854 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:34:46,119 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 16:34:47,852 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:34:48,900 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 16:34:49,855 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 16:34:49,999 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 16:34:50,104 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x15bd9a6d0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 16:34:50,263 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x15bd62af0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 16:34:50,441 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 16:34:50,616 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 16:34:50,783 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 16:34:51,831 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 16:34:56,511 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 16:34:56,674 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 16:34:56,826 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 16:34:56,985 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:34:58,014 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 16:34:58,216 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 16:34:58,367 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 16:34:58,525 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 16:34:58,679 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 16:34:58,835 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'test_user' asked: 'Hello, I need budget hotel recommendations...'
2025-05-23 16:34:59,010 - rag_engine - INFO - RAGEngine: Received query: 'Hello, I need budget hotel recommendations...'
2025-05-23 16:34:59,157 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 16:34:59,349 - rag_vector_db - INFO - Performing search for query: 'Hello, I need budget hotel recommendations...' with top_k=3
2025-05-23 16:35:00,591 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 16:35:00,733 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 16:35:00,919 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 16:35:01,036 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 16:35:01,154 - gemini_model - INFO - Using base model
2025-05-23 16:35:03,261 - gemini_model - INFO - Model response generated
2025-05-23 16:35:03,459 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 16:35:03,622 - gemini_model - INFO - Using fine-tuned model
2025-05-23 16:35:04,536 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 16:35:04,728 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 16:35:04,896 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 16:35:05,065 - gemini_model - INFO - Using base (fallback) model
2025-05-23 16:35:09,519 - gemini_model - INFO - Model response generated
2025-05-23 16:35:09,682 - gemini_memory_rag_model - INFO - Generated personalized response for user 'test_user' (length: 2452)
2025-05-23 16:38:57,902 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:39:03,201 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:39:03,999 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:39:04,835 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:42:13,419 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 16:42:15,188 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 16:42:15,915 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:42:16,086 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 16:42:16,833 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:42:16,996 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:42:17,177 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:42:17,331 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:42:17,490 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 16:42:19,404 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:42:20,249 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 16:42:21,189 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 16:42:21,366 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 16:42:21,522 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1310d5fd0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 16:42:21,674 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1310e6f70> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 16:42:21,841 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 16:42:22,007 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 16:42:22,126 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 16:42:22,937 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 16:42:27,933 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 16:42:28,107 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 16:42:28,253 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 16:42:28,429 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:42:29,494 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 16:42:29,635 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 16:42:29,816 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 16:42:30,006 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 16:42:30,134 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 16:42:30,274 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:42:30,445 - rag_engine - INFO - RAGEngine: Received query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:42:30,594 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 16:42:30,819 - rag_vector_db - INFO - Performing search for query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...' with top_k=3
2025-05-23 16:42:32,215 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 16:42:32,378 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 16:42:32,537 - gemini_model - INFO - Using base model
2025-05-23 16:42:34,786 - gemini_model - INFO - Model response generated
2025-05-23 16:42:34,956 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 16:42:35,080 - gemini_model - INFO - Using base model
2025-05-23 16:42:41,967 - gemini_model - INFO - Model response generated
2025-05-23 16:42:42,117 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 4249)
2025-05-23 16:42:42,859 - gemini_memory_rag_model - INFO - Recording interaction for user 'luxury_traveler_001': What are the finest restaurants and exclusive dini...
2025-05-23 16:44:31,200 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:44:36,067 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:44:36,850 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:44:37,655 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:44:40,525 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 16:44:41,307 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:44:41,439 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 16:44:42,267 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:44:42,424 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:44:42,567 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:44:42,720 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:44:42,887 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 16:44:44,847 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:44:45,720 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 16:44:46,767 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 16:44:46,918 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 16:44:47,077 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x120ff1370> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 16:44:47,205 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x120f9c9d0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 16:44:47,371 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 16:44:47,527 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 16:44:47,673 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 16:44:48,545 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 16:44:53,687 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 16:44:53,829 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 16:44:53,984 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 16:44:54,150 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:44:55,160 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 16:44:55,320 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 16:44:55,465 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 16:44:55,619 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 16:44:55,785 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 16:46:10,252 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 16:46:11,344 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:46:11,502 - rag_engine - INFO - RAGEngine: Received query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:46:11,680 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 16:46:11,835 - rag_vector_db - INFO - Performing search for query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...' with top_k=3
2025-05-23 16:46:12,632 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 16:46:12,812 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 16:46:12,981 - gemini_model - INFO - Using base model
2025-05-23 16:46:14,673 - gemini_model - INFO - Model response generated
2025-05-23 16:46:14,845 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 16:46:15,014 - gemini_model - INFO - Using base model
2025-05-23 16:46:21,442 - gemini_model - INFO - Model response generated
2025-05-23 16:46:21,656 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 3643)
2025-05-23 16:46:22,151 - gemini_memory_rag_model - INFO - Recording interaction for user 'luxury_traveler_001': What are the finest restaurants and exclusive dini...
2025-05-23 16:49:12,145 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:49:17,354 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:49:18,165 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:49:18,968 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:49:21,879 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 16:49:22,791 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:49:22,944 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 16:49:23,770 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:49:23,952 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:49:24,102 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:49:24,255 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:49:24,416 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 16:49:26,209 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:49:27,270 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 16:49:28,191 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 16:49:28,332 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 16:49:28,496 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x13476ef10> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 16:49:28,644 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x134750c40> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 16:49:28,763 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 16:49:28,915 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 16:49:29,103 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 16:49:29,987 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 16:49:34,631 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 16:49:34,815 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 16:49:34,983 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 16:49:35,101 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:49:36,283 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 16:49:36,451 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 16:49:36,576 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 16:49:36,720 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 16:49:36,853 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 16:49:36,980 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:49:37,140 - rag_engine - INFO - RAGEngine: Received query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...'
2025-05-23 16:49:37,271 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 16:49:37,416 - rag_vector_db - INFO - Performing search for query: 'What are the finest restaurants and exclusive dining experiences for a special celebration?...' with top_k=3
2025-05-23 16:49:38,842 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 16:49:38,968 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 16:49:39,121 - gemini_model - INFO - Using base model
2025-05-23 16:49:42,235 - gemini_model - INFO - Model response generated
2025-05-23 16:49:42,413 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 16:49:42,612 - gemini_model - INFO - Using fine-tuned model
2025-05-23 16:49:43,584 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 16:49:43,743 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 16:49:43,889 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 16:49:44,041 - gemini_model - INFO - Using base (fallback) model
2025-05-23 16:49:48,811 - gemini_model - INFO - Model response generated
2025-05-23 16:49:48,926 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 2813)
2025-05-23 16:51:22,125 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:51:27,390 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:51:28,175 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:51:29,014 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:57:11,780 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 16:57:16,702 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:57:17,448 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:57:18,256 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:58:27,687 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 16:58:29,410 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 16:58:30,207 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:58:30,370 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 16:58:31,146 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 16:58:31,435 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 16:58:31,804 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 16:58:32,080 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 16:58:32,391 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 16:58:34,293 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:58:35,236 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 16:58:36,161 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 16:58:36,326 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 16:58:36,445 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x11fe2a970> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 16:58:36,591 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x11fe2a640> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 16:58:36,757 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 16:58:36,927 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 16:58:37,083 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 16:58:38,089 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 16:58:43,046 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 16:58:43,339 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 16:58:43,466 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 16:58:43,621 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 16:58:44,730 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 16:58:44,890 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 16:58:45,074 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 16:58:45,219 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 16:58:45,377 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 16:58:45,565 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'What are the most luxurious dining options?...'
2025-05-23 16:58:45,688 - rag_engine - INFO - RAGEngine: Received query: 'What are the most luxurious dining options?...'
2025-05-23 16:58:45,833 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 16:58:45,995 - rag_vector_db - INFO - Performing search for query: 'What are the most luxurious dining options?...' with top_k=3
2025-05-23 16:58:47,184 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 16:58:47,336 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 16:58:47,480 - gemini_model - INFO - Using base model
2025-05-23 16:58:49,250 - gemini_model - INFO - Model response generated
2025-05-23 16:58:49,403 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 16:58:49,532 - gemini_model - INFO - Using base model
2025-05-23 16:58:53,948 - gemini_model - INFO - Model response generated
2025-05-23 16:58:54,108 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 2312)
2025-05-23 16:58:54,613 - gemini_memory_rag_model - INFO - Recording interaction for user 'luxury_traveler_001': What are the most luxurious dining options?...
2025-05-23 17:00:19,408 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:00:20,479 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'what are the most luxurious hotels?...'
2025-05-23 17:00:20,642 - rag_engine - INFO - RAGEngine: Received query: 'what are the most luxurious hotels?...'
2025-05-23 17:00:20,874 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:00:21,029 - rag_vector_db - INFO - Performing search for query: 'what are the most luxurious hotels?...' with top_k=3
2025-05-23 17:00:21,709 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:00:21,866 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:00:22,030 - gemini_model - INFO - Using base model
2025-05-23 17:00:23,864 - gemini_model - INFO - Model response generated
2025-05-23 17:00:24,014 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:00:24,186 - gemini_model - INFO - Using base model
2025-05-23 17:00:30,277 - gemini_model - INFO - Model response generated
2025-05-23 17:00:30,403 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 3349)
2025-05-23 17:00:30,994 - gemini_memory_rag_model - INFO - Recording interaction for user 'luxury_traveler_001': what are the most luxurious hotels?...
2025-05-23 17:01:39,555 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:01:44,299 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:01:45,053 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:01:45,843 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:01:48,712 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:01:48,879 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:01:49,035 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:01:49,221 - rag_engine - INFO - RAGEngine: Starting dataset processing for data/travel/sample_travel.ndjson
2025-05-23 17:01:49,356 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:01:51,043 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:01:51,918 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:01:52,784 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:01:52,928 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:01:53,090 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x150f9dd90> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:01:53,187 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x150f8be80> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:01:53,336 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:01:53,527 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:01:53,667 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:01:54,601 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:01:59,379 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from data/travel/sample_travel.ndjson.
2025-05-23 17:01:59,588 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 17:01:59,705 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 17:01:59,852 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:02:01,227 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 17:02:01,394 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 17:02:01,555 - rag_engine - INFO - RAGEngine: Received query: 'luxury hotels Buenos Aires...'
2025-05-23 17:02:01,709 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:02:01,902 - rag_vector_db - INFO - Performing search for query: 'luxury hotels Buenos Aires...' with top_k=3
2025-05-23 17:02:03,110 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:02:03,285 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:02:03,460 - gemini_model - INFO - Using base model
2025-05-23 17:02:05,689 - gemini_model - INFO - Model response generated
2025-05-23 17:02:05,859 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:02:55,359 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:03:02,402 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:03:03,204 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:03:04,134 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:03:07,605 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 17:03:09,283 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:03:09,398 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 17:03:11,261 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:03:11,526 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:03:11,814 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:03:12,114 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:03:12,265 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:03:14,451 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:03:15,208 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:03:16,231 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:03:16,389 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:03:16,541 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x128c70700> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:03:16,689 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1058f8790> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:03:16,884 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:03:17,083 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:03:17,272 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:03:18,199 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:03:23,863 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 17:03:24,032 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 17:03:24,186 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 17:03:24,345 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:03:25,621 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 17:03:25,809 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 17:03:25,969 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 17:03:26,123 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 17:03:26,285 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 17:03:26,429 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'What are the best luxury hotels in Buenos Aires for a sophisticated traveler?...'
2025-05-23 17:03:26,593 - rag_engine - INFO - RAGEngine: Received query: 'What are the best luxury hotels in Buenos Aires for a sophisticated traveler?...'
2025-05-23 17:03:26,752 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:03:26,919 - rag_vector_db - INFO - Performing search for query: 'What are the best luxury hotels in Buenos Aires for a sophisticated traveler?...' with top_k=3
2025-05-23 17:03:28,279 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:03:28,428 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:03:28,590 - gemini_model - INFO - Using base model
2025-05-23 17:03:31,120 - gemini_model - INFO - Model response generated
2025-05-23 17:03:31,280 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:03:31,467 - gemini_model - INFO - Using fine-tuned model
2025-05-23 17:03:32,782 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 17:03:33,660 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 17:03:34,902 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:03:37,828 - gemini_model - INFO - Using base (fallback) model
2025-05-23 17:03:48,389 - gemini_model - INFO - Model response generated
2025-05-23 17:03:48,588 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 3492)
2025-05-23 17:05:47,068 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:05:52,313 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:05:53,125 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:05:53,890 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:05:56,795 - gemini_memory_rag_model - INFO - Force reloading Memory RAG system...
2025-05-23 17:05:57,555 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 17:05:57,758 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:05:57,912 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 17:05:58,714 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:05:58,854 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:05:59,021 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:05:59,173 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:05:59,326 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:06:01,191 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:06:02,112 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:06:02,872 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:06:03,053 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:06:03,248 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12678e6d0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:06:03,421 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12675d3a0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:06:03,574 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:06:03,752 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:06:03,907 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:06:05,085 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:06:10,286 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 17:06:10,473 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 17:06:10,649 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 17:06:10,835 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:06:11,829 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 17:06:11,974 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 17:06:12,096 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 17:06:12,295 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 17:06:12,463 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 17:07:03,743 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:07:09,667 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:07:10,446 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:07:11,401 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:07:14,167 - gemini_memory_rag_model - INFO - Force reloading Memory RAG system...
2025-05-23 17:07:14,997 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 17:07:15,168 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:07:15,308 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 17:07:16,083 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:07:16,235 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:07:16,399 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:07:16,516 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:07:16,696 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:07:18,384 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:07:19,213 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:07:20,689 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:07:20,900 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:07:21,016 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x121834160> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:07:21,180 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x120de99d0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:07:21,348 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:07:21,501 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:07:21,663 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:07:22,502 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:07:27,495 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 17:07:27,627 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 17:07:27,770 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 17:07:27,936 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:07:28,978 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 17:07:29,148 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 17:07:29,299 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 17:07:29,495 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 17:07:29,636 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 17:07:29,818 - rag_engine - INFO - RAGEngine: Received query: 'luxury hotels Buenos Aires...'
2025-05-23 17:07:29,971 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:07:30,123 - rag_vector_db - INFO - Performing search for query: 'luxury hotels Buenos Aires...' with top_k=3
2025-05-23 17:07:31,289 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:07:31,465 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:07:31,635 - gemini_model - INFO - Using base model
2025-05-23 17:07:33,932 - gemini_model - INFO - Model response generated
2025-05-23 17:07:34,119 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:07:34,279 - gemini_memory_rag_model - INFO - Memory RAG reload complete. Debug info: {'rag_context_length': 0, 'rag_context_preview': '', 'chunk_data_map_size': 20, 'vector_search_results': 3}
2025-05-23 17:10:22,224 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:10:27,496 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:10:28,342 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:10:29,129 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:14:13,661 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:14:16,809 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-23 17:14:19,643 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:14:19,864 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-23 17:14:21,030 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:14:21,233 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:14:21,424 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:14:21,748 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-23 17:14:21,999 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:14:23,777 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:14:24,809 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:14:25,706 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:14:25,865 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:14:26,006 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x13d6581c0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:14:26,162 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x13d679d30> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:14:26,303 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:14:26,469 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:14:26,662 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:14:27,482 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:14:32,351 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-23 17:14:32,505 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-23 17:14:32,627 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-23 17:14:32,789 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:14:33,783 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-23 17:14:33,927 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-23 17:14:34,056 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-23 17:14:34,229 - gemini_memory_rag_model - INFO - No user data file found. Starting with empty user profiles.
2025-05-23 17:14:34,351 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-23 17:14:34,503 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'luxury_traveler_001' asked: 'what are some luxurious hotels?...'
2025-05-23 17:14:34,698 - rag_engine - INFO - RAGEngine: Received query: 'what are some luxurious hotels?...'
2025-05-23 17:14:34,797 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:14:34,954 - rag_vector_db - INFO - Performing search for query: 'what are some luxurious hotels?...' with top_k=3
2025-05-23 17:14:36,237 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:14:36,394 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:14:36,532 - gemini_model - INFO - Using base model
2025-05-23 17:14:38,389 - gemini_model - INFO - Model response generated
2025-05-23 17:14:38,547 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:14:38,662 - gemini_model - INFO - Using base model
2025-05-23 17:14:43,924 - gemini_model - INFO - Model response generated
2025-05-23 17:14:44,131 - gemini_memory_rag_model - INFO - Generated personalized response for user 'luxury_traveler_001' (length: 3133)
2025-05-23 17:14:44,620 - gemini_memory_rag_model - INFO - Recording interaction for user 'luxury_traveler_001': what are some luxurious hotels?...
2025-05-23 17:15:15,383 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:15:16,612 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'budget_traveler_001' asked: 'what are some budget friendly options...'
2025-05-23 17:15:16,773 - rag_engine - INFO - RAGEngine: Received query: 'what are some budget friendly options...'
2025-05-23 17:15:17,044 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:15:17,202 - rag_vector_db - INFO - Performing search for query: 'what are some budget friendly options...' with top_k=3
2025-05-23 17:15:18,049 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:15:18,215 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:15:18,373 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:15:18,555 - rag_engine - WARNING - Data for chunk ID user_002_special_requirements not found in RAGEngine.chunk_data_map.
2025-05-23 17:15:18,728 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-23 17:15:18,919 - gemini_model - INFO - Using base model
2025-05-23 17:15:21,715 - gemini_model - INFO - Model response generated
2025-05-23 17:15:21,918 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:15:22,035 - gemini_model - INFO - Using base model
2025-05-23 17:15:30,396 - gemini_model - INFO - Model response generated
2025-05-23 17:15:30,579 - gemini_memory_rag_model - INFO - Generated personalized response for user 'budget_traveler_001' (length: 5808)
2025-05-23 17:15:31,150 - gemini_memory_rag_model - INFO - Recording interaction for user 'budget_traveler_001': what are some budget friendly options...
2025-05-23 17:19:04,326 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:19:10,152 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:19:11,981 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:19:13,185 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:19:14,219 - gemini_model - INFO - Using fine-tuned model
2025-05-23 17:19:16,882 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 17:19:17,092 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 17:19:17,339 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:19:17,585 - gemini_model - INFO - Using base (fallback) model
2025-05-23 17:19:21,475 - gemini_model - INFO - Model response generated
2025-05-23 17:19:21,856 - gemini_model - INFO - Using base model
2025-05-23 17:19:25,835 - gemini_model - INFO - Model response generated
2025-05-23 17:19:26,012 - gemini_model - INFO - Using base model
2025-05-23 17:19:30,015 - gemini_model - INFO - Model response generated
2025-05-23 17:19:30,175 - gemini_model - INFO - Using base model
2025-05-23 17:19:38,349 - gemini_model - INFO - Model response generated
2025-05-23 17:19:38,541 - gemini_model - INFO - Using base model
2025-05-23 17:19:46,156 - gemini_model - INFO - Model response generated
2025-05-23 17:19:46,280 - gemini_model - INFO - Using base model
2025-05-23 17:19:53,346 - gemini_model - INFO - Model response generated
2025-05-23 17:19:53,543 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:19:53,694 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:19:53,829 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:19:54,958 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:19:56,225 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-23 17:19:57,119 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:19:57,261 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:19:58,351 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:19:58,824 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:00,629 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:01,170 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:02,132 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:02,505 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:03,941 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:04,307 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:05,399 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:05,767 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:06,923 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:07,522 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:08,640 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:09,009 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:09,924 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:10,277 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:11,854 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:12,258 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:13,238 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:13,580 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:14,354 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:14,850 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:16,305 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:16,791 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:17,917 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:18,283 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:19,281 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:19,637 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:20,423 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:20,877 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:22,348 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:22,641 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:23,688 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:24,020 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:25,514 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:26,043 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:27,378 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:27,696 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:28,769 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:29,101 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:30,328 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:30,673 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:31,659 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:31,979 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:33,217 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:33,795 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:35,209 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:36,363 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:38,412 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:38,744 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:39,548 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:39,886 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:41,116 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:20:41,337 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-23 17:20:41,521 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:20:42,554 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:20:43,714 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:20:45,124 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:20:45,427 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:20:45,700 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1484dfee0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:20:45,961 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1484df4c0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:20:46,127 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:20:46,313 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:20:46,488 - rag_vector_db - INFO - Performing search for query: 'budget travel options...' with top_k=10
2025-05-23 17:20:46,641 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:20:47,724 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:20:50,077 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:20:50,223 - rag_vector_db - INFO - Performing search for query: 'cultural experiences...' with top_k=10
2025-05-23 17:20:50,869 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:20:51,018 - rag_vector_db - INFO - Performing search for query: 'beach destinations...' with top_k=10
2025-05-23 17:20:51,694 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:20:51,843 - rag_vector_db - INFO - Performing search for query: 'adventure activities...' with top_k=10
2025-05-23 17:20:52,561 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:21:59,289 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:22:04,633 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:22:06,691 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:22:07,447 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:22:08,621 - gemini_model - INFO - Using fine-tuned model
2025-05-23 17:22:13,037 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 17:22:13,276 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 17:22:13,497 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:22:13,714 - gemini_model - INFO - Using base (fallback) model
2025-05-23 17:22:17,386 - gemini_model - INFO - Model response generated
2025-05-23 17:22:17,565 - gemini_model - INFO - Using base model
2025-05-23 17:22:21,273 - gemini_model - INFO - Model response generated
2025-05-23 17:22:21,536 - gemini_model - INFO - Using base model
2025-05-23 17:22:25,677 - gemini_model - INFO - Model response generated
2025-05-23 17:22:25,810 - gemini_model - INFO - Using base model
2025-05-23 17:22:33,926 - gemini_model - INFO - Model response generated
2025-05-23 17:22:34,097 - gemini_model - INFO - Using base model
2025-05-23 17:22:40,932 - gemini_model - INFO - Model response generated
2025-05-23 17:22:41,107 - gemini_model - INFO - Using base model
2025-05-23 17:22:47,807 - gemini_model - INFO - Model response generated
2025-05-23 17:22:48,044 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:22:48,283 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:22:48,497 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:22:49,483 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:22:50,568 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-23 17:22:51,638 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:51,842 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:53,159 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:22:53,600 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:54,695 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:22:55,266 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:56,613 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:22:57,031 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:57,952 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:22:58,304 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:22:59,264 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:22:59,638 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:01,050 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:01,443 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:02,321 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:02,728 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:04,408 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:05,029 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:06,445 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:07,096 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:08,412 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:09,142 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:10,266 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:10,675 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:11,422 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:11,841 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:13,221 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:13,736 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:14,701 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:15,063 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:16,079 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:16,597 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:17,847 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:18,186 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:19,183 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:19,538 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:20,867 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:21,388 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:22,215 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:22,629 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:23,808 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:24,439 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:28,595 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:29,082 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:29,967 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:30,351 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:31,450 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:31,784 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:33,302 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:33,659 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:34,479 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:34,820 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:35,804 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:36,452 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:37,667 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:23:37,886 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-23 17:23:38,103 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:23:39,418 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:23:40,683 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:23:41,601 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:23:41,764 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:23:41,882 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14efd3070> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:23:42,021 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14efbed30> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:23:42,168 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:23:42,386 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:23:42,556 - rag_vector_db - INFO - Performing search for query: 'budget travel options...' with top_k=10
2025-05-23 17:23:42,691 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:23:43,585 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:23:45,970 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:23:46,132 - rag_vector_db - INFO - Performing search for query: 'cultural experiences...' with top_k=10
2025-05-23 17:23:46,890 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:23:47,054 - rag_vector_db - INFO - Performing search for query: 'beach destinations...' with top_k=10
2025-05-23 17:23:47,833 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:23:48,054 - rag_vector_db - INFO - Performing search for query: 'adventure activities...' with top_k=10
2025-05-23 17:23:49,053 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:25:15,347 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:25:18,665 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'budget_traveler_001' asked: 'What are some budget friendly hotel options?...'
2025-05-23 17:25:19,784 - rag_engine - INFO - RAGEngine: Received query: 'What are some budget friendly hotel options?...'
2025-05-23 17:25:21,968 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:25:23,405 - rag_vector_db - INFO - Performing search for query: 'What are some budget friendly hotel options?...' with top_k=3
2025-05-23 17:25:25,836 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:25:26,089 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:25:26,316 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:25:26,513 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:25:26,763 - gemini_model - INFO - Using base model
2025-05-23 17:25:29,315 - gemini_model - INFO - Model response generated
2025-05-23 17:25:29,893 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:25:30,220 - gemini_model - INFO - Using base model
2025-05-23 17:25:37,770 - gemini_model - INFO - Model response generated
2025-05-23 17:25:38,212 - gemini_memory_rag_model - INFO - Generated personalized response for user 'budget_traveler_001' (length: 2969)
2025-05-23 17:25:39,288 - gemini_memory_rag_model - INFO - Recording interaction for user 'budget_traveler_001': What are some budget friendly hotel options?...
2025-05-23 17:27:05,361 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:27:11,800 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:27:13,993 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:27:16,357 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:27:19,602 - gemini_model - INFO - Using fine-tuned model
2025-05-23 17:27:30,652 - gemini_model - ERROR - Error during prediction with fine-tuned model
2025-05-23 17:27:31,044 - gemini_model - WARNING - Falling back to base model due to error
2025-05-23 17:27:31,385 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:27:31,715 - gemini_model - INFO - Using base (fallback) model
2025-05-23 17:27:37,040 - gemini_model - INFO - Model response generated
2025-05-23 17:27:37,716 - gemini_model - INFO - Using base model
2025-05-23 17:27:43,726 - gemini_model - INFO - Model response generated
2025-05-23 17:27:44,447 - gemini_model - INFO - Using base model
2025-05-23 17:27:52,418 - gemini_model - INFO - Model response generated
2025-05-23 17:27:53,558 - gemini_model - INFO - Using base model
2025-05-23 17:28:04,533 - gemini_model - INFO - Model response generated
2025-05-23 17:28:04,735 - gemini_model - INFO - Using base model
2025-05-23 17:28:13,776 - gemini_model - INFO - Model response generated
2025-05-23 17:28:13,929 - gemini_model - INFO - Using base model
2025-05-23 17:28:22,283 - gemini_model - INFO - Model response generated
2025-05-23 17:28:22,661 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:28:22,987 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:28:23,173 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:28:24,811 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:28:26,443 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-23 17:28:27,475 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:27,706 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:29,496 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:29,920 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:31,652 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:32,338 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:34,418 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:34,961 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:36,725 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:37,392 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:38,514 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:39,097 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:40,735 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:41,278 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:43,173 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:43,827 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:45,042 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:45,804 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:47,517 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:48,036 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:49,735 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:28:49,853 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:50,360 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:51,997 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:52,226 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'budget_traveler_001' asked: 'buenos aires...'
2025-05-23 17:28:52,531 - rag_engine - INFO - RAGEngine: Received query: 'buenos aires...'
2025-05-23 17:28:52,578 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:52,845 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:28:53,088 - rag_vector_db - INFO - Performing search for query: 'buenos aires...' with top_k=3
2025-05-23 17:28:54,075 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:28:54,239 - rag_engine - WARNING - Data for chunk ID user_003_conversation_2 not found in RAGEngine.chunk_data_map.
2025-05-23 17:28:54,445 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:28:54,602 - gemini_model - INFO - Using base model
2025-05-23 17:28:54,909 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:55,549 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:28:57,365 - gemini_model - INFO - Model response generated
2025-05-23 17:28:57,533 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:28:57,845 - gemini_model - INFO - Using base model
2025-05-23 17:28:57,927 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:28:58,441 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:00,026 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:00,590 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:01,842 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:02,334 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:02,370 - gemini_model - INFO - Model response generated
2025-05-23 17:29:02,666 - gemini_memory_rag_model - INFO - Generated personalized response for user 'budget_traveler_001' (length: 1312)
2025-05-23 17:29:03,848 - gemini_memory_rag_model - INFO - Recording interaction for user 'budget_traveler_001': buenos aires...
2025-05-23 17:29:04,040 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:04,719 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:06,410 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:06,995 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:08,062 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:08,655 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:11,200 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:11,604 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:12,496 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:12,994 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:18,190 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:20,130 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:23,526 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:25,749 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:29,122 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:30,107 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:33,924 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:34,448 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:38,933 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:39,870 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:42,302 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:43,424 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:45,188 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-23 17:29:45,338 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-23 17:29:45,517 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-23 17:29:47,225 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-23 17:29:48,752 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-23 17:29:50,302 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-23 17:29:50,773 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-23 17:29:51,300 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x134d93520> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-23 17:29:51,757 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x134bf9760> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-23 17:29:52,117 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-23 17:29:52,587 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-23 17:29:53,169 - rag_vector_db - INFO - Performing search for query: 'budget travel options...' with top_k=10
2025-05-23 17:29:53,596 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-23 17:29:54,720 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-23 17:29:57,948 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:29:58,228 - rag_vector_db - INFO - Performing search for query: 'cultural experiences...' with top_k=10
2025-05-23 17:29:59,458 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:29:59,699 - rag_vector_db - INFO - Performing search for query: 'beach destinations...' with top_k=10
2025-05-23 17:30:01,476 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:30:02,024 - rag_vector_db - INFO - Performing search for query: 'adventure activities...' with top_k=10
2025-05-23 17:30:03,946 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-23 17:32:39,770 - gemini_model - INFO - Model preference set to: Base Model
2025-05-23 17:32:41,971 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'user_001' asked: 'what are some budget friendly hotel options...'
2025-05-23 17:32:42,229 - rag_engine - INFO - RAGEngine: Received query: 'what are some budget friendly hotel options...'
2025-05-23 17:32:42,498 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-23 17:32:42,794 - rag_vector_db - INFO - Performing search for query: 'what are some budget friendly hotel options...' with top_k=3
2025-05-23 17:32:44,027 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-23 17:32:44,175 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:32:44,359 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-23 17:32:44,622 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-23 17:32:44,956 - gemini_model - INFO - Using base model
2025-05-23 17:32:47,759 - gemini_model - INFO - Model response generated
2025-05-23 17:32:47,974 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-23 17:32:48,159 - gemini_model - INFO - Using base model
2025-05-23 17:32:55,283 - gemini_model - INFO - Model response generated
2025-05-23 17:32:55,432 - gemini_memory_rag_model - INFO - Generated personalized response for user 'user_001' (length: 3526)
2025-05-23 17:32:56,351 - gemini_memory_rag_model - INFO - Recording interaction for user 'user_001': what are some budget friendly hotel options...
2025-05-23 17:34:48,051 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:34:55,078 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:34:56,504 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:34:58,314 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:40:51,315 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:40:58,286 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:41:00,130 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:41:02,412 - rag_engine - INFO - RAGEngine initialized.
2025-05-23 17:48:34,150 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-23 17:48:47,285 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-23 17:48:59,606 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-23 17:49:10,712 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:00:04,108 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:00:09,251 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:00:10,028 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:00:10,779 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:03:11,456 - gemini_model - INFO - Model preference set to: Base Model
2025-05-29 12:03:13,251 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:03:14,048 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-29 12:03:14,201 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:03:14,966 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:03:15,134 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:03:15,281 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:03:15,448 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-29 12:03:15,654 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:03:17,306 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:18,199 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:03:19,073 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:03:19,220 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:03:19,363 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x13ccef5b0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:03:19,567 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x13cceff10> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:03:19,760 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:03:19,909 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:03:20,093 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:03:21,354 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:03:26,015 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson.
2025-05-29 12:03:26,222 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 12:03:26,378 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 12:03:26,521 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:27,530 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 12:03:27,685 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 12:03:27,865 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-29 12:03:28,018 - gemini_memory_rag_model - INFO - Loading user data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/user_profiles/test_users.json
2025-05-29 12:03:28,186 - memory_enhanced_rag - INFO - Loading user data...
2025-05-29 12:03:28,338 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:03:28,539 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:03:28,701 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:03:29,556 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:03:30,600 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-29 12:03:31,583 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:31,761 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:32,696 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:33,071 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:34,085 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:34,484 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:35,307 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:35,676 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:36,605 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:36,930 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:37,732 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:38,083 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:38,941 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:39,529 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:40,608 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:41,094 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:41,994 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:42,358 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:43,366 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:43,767 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:44,616 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:44,971 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:45,820 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:46,188 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:47,090 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:47,469 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:48,414 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:48,792 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:49,714 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:50,120 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:50,968 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:51,613 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:52,405 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:53,208 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:54,032 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:55,010 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:55,836 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:56,895 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:57,737 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:03:58,926 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:03:59,742 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:04:00,877 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:04:01,741 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:04:01,942 - memory_enhanced_rag - INFO - User data loaded successfully
2025-05-29 12:04:02,120 - gemini_memory_rag_model - INFO - Memory RAG system initialized successfully!
2025-05-29 12:04:02,286 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'user_001' asked: '"I'm interested in visiting Buenos Aires. What kind of activities would you recommend for me?"...'
2025-05-29 12:04:02,470 - rag_engine - INFO - RAGEngine: Received query: '"I'm interested in visiting Buenos Aires. What kind of activities would you recommend for me?"...'
2025-05-29 12:04:02,657 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-29 12:04:02,807 - rag_vector_db - INFO - Performing search for query: '"I'm interested in visiting Buenos Aires. What kind of activities would you recommend for me?"...' with top_k=3
2025-05-29 12:04:05,117 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-29 12:04:05,255 - rag_engine - WARNING - Data for chunk ID user_002_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-29 12:04:05,435 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-29 12:04:05,584 - gemini_model - INFO - Using base model
2025-05-29 12:04:07,944 - gemini_model - INFO - Model response generated
2025-05-29 12:04:08,069 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-29 12:04:08,249 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-29 12:04:08,424 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:04:09,285 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:04:10,050 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:04:11,099 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:04:11,239 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:04:11,409 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x13cda5eb0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:04:11,545 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x13cda5fa0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:04:11,673 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:04:11,829 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:04:11,966 - rag_vector_db - INFO - Performing search for query: '"I'm interested in visiting Buenos Aires. What kind of activities would you recommend for me?"...' with top_k=10
2025-05-29 12:04:13,177 - rag_vector_db - INFO - Search completed. Found 10 results.
2025-05-29 12:04:13,340 - gemini_model - INFO - Using base model
2025-05-29 12:04:23,658 - gemini_model - INFO - Model response generated
2025-05-29 12:04:23,793 - gemini_memory_rag_model - INFO - Generated personalized response for user 'user_001' (length: 5999)
2025-05-29 12:04:24,415 - gemini_memory_rag_model - INFO - Recording interaction for user 'user_001': "I'm interested in visiting Buenos Aires. What kin...
2025-05-29 12:08:45,512 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:08:50,048 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:08:50,775 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:08:52,483 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:11:47,896 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:11:52,610 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:11:53,490 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:11:54,264 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:19:52,150 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:19:57,110 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:19:57,862 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:19:58,634 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:26:08,350 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:26:12,997 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:26:13,766 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:26:14,563 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:27:25,286 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:27:30,152 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:27:30,929 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:27:31,684 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:30:37,171 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:30:41,850 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:30:42,591 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:30:43,398 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:30:46,286 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:30:47,030 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:30:47,195 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../data/travel/sample_travel.ndjson
2025-05-29 12:30:47,335 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:41:00,744 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:41:07,525 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:41:08,295 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:41:09,095 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:41:12,350 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:41:13,084 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:41:13,253 - gemini_memory_rag_model - WARNING - Travel data file not found: /Users/debicabrera/.cursor-tutor/L200-upskilling/app/backend/models/../../../L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:41:52,369 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:41:58,501 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:41:59,269 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:42:00,053 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:42:03,610 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:42:04,392 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:42:04,540 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:42:04,729 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:42:05,487 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:42:05,653 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:42:05,838 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:42:05,984 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:42:06,168 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:42:08,372 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:42:10,036 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:42:11,339 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:42:11,528 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:42:11,695 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1338e81f0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:42:11,839 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1338b8b80> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:42:11,982 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:42:12,152 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:42:12,341 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:42:13,215 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:42:17,782 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-29 12:42:17,913 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 12:42:18,053 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 12:42:18,201 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:42:19,140 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 12:42:19,306 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 12:42:19,432 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-29 12:42:19,606 - gemini_memory_rag_model - INFO - Travel data loaded, is_initialized=True
2025-05-29 12:42:19,762 - gemini_memory_rag_model - INFO - Loading user data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/user_profiles/test_users.json
2025-05-29 12:42:19,906 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:42:20,072 - gemini_memory_rag_model - ERROR - Failed to initialize Memory RAG system: __init__() got an unexpected keyword argument 'index_id'
2025-05-29 12:43:30,589 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:43:36,590 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:43:37,392 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:43:38,203 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:43:41,421 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:43:42,433 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:43:42,596 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:43:42,741 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:43:43,510 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:43:43,709 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:43:43,846 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:43:44,032 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:43:44,220 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:43:46,211 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:43:47,056 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:43:47,943 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:43:48,111 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:43:48,242 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x151573580> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:43:48,420 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x151531ca0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:43:48,578 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:43:48,715 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:43:48,886 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:43:49,756 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:43:54,128 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-29 12:43:54,305 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 12:43:54,466 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 12:43:54,595 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:43:55,497 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 12:43:55,650 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 12:43:55,783 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-29 12:43:55,951 - gemini_memory_rag_model - INFO - Travel data loaded, is_initialized=True
2025-05-29 12:43:56,073 - gemini_memory_rag_model - INFO - Loading user data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/user_profiles/test_users.json
2025-05-29 12:43:56,207 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:43:56,380 - gemini_memory_rag_model - ERROR - Failed to initialize Memory RAG system: __init__() got an unexpected keyword argument 'index_resource_id'
2025-05-29 12:46:46,848 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:46:53,190 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:46:53,977 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:46:54,815 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:46:58,528 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:46:59,293 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:46:59,419 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:46:59,577 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:47:00,385 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:47:00,533 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:47:00,686 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:47:00,834 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:47:00,993 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:47:03,899 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:04,904 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:47:05,734 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:47:05,912 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:47:06,061 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1199344c0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:47:06,255 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1197f13d0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:47:06,408 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:47:06,532 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:47:06,694 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:47:07,497 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:47:12,283 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-29 12:47:12,449 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 12:47:12,641 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 12:47:12,830 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:13,890 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 12:47:14,059 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 12:47:14,207 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-29 12:47:14,365 - gemini_memory_rag_model - INFO - Travel data loaded, is_initialized=True
2025-05-29 12:47:14,565 - gemini_memory_rag_model - INFO - Loading user data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/user_profiles/test_users.json
2025-05-29 12:47:14,761 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:47:14,891 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:47:15,069 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:47:15,931 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:47:16,979 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-29 12:47:17,731 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:17,882 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:18,791 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:19,076 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:19,921 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:20,171 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:20,948 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:21,274 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:22,334 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:22,614 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:23,427 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:23,677 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:24,729 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:25,059 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:25,837 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:26,139 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:26,956 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:27,219 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:27,965 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:28,242 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:28,978 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:29,275 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:30,030 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:30,297 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:31,049 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:31,560 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:32,347 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:32,674 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:33,401 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:33,740 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:34,564 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:34,887 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:35,821 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:36,101 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:37,006 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:37,290 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:38,405 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:38,778 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:39,687 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:39,986 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:40,778 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:41,144 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:42,217 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:42,585 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:43,452 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:43,726 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:44,568 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:44,895 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:45,879 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:46,210 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:47,034 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:47,361 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:48,421 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:48,770 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:47:49,552 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:47:49,685 - gemini_memory_rag_model - INFO - User data loaded and initialized successfully
2025-05-29 12:47:49,844 - gemini_memory_rag_model - INFO - Memory RAG system initialization complete. Status: {'initialized': True, 'instance_available': True, 'ready': True}
2025-05-29 12:49:16,006 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:49:21,824 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:49:22,590 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:49:23,299 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:54:39,892 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:54:46,058 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:54:47,024 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:54:47,804 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:55:45,831 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:55:52,298 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:55:53,056 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:55:53,834 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:56:25,714 - gemini_memory_rag_model - INFO - Initializing Memory RAG system...
2025-05-29 12:56:26,530 - gemini_memory_rag_model - INFO - Created new MemoryEnhancedRAG instance
2025-05-29 12:56:26,706 - gemini_memory_rag_model - INFO - Loading travel data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:56:26,855 - memory_enhanced_rag - INFO - Loading travel data...
2025-05-29 12:56:27,666 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:56:27,831 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 12:56:27,998 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 12:56:28,175 - rag_engine - INFO - RAGEngine: Starting dataset processing for /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson
2025-05-29 12:56:28,340 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 12:56:30,234 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:31,004 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 12:56:31,910 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 12:56:32,079 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 12:56:32,285 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x15d554370> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 12:56:32,432 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x159e1d550> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 12:56:32,627 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 12:56:32,802 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 12:56:32,935 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:56:33,844 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:56:38,482 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from /Users/debicabrera/.cursor-tutor/L200-upskilling/data/travel/sample_travel.ndjson.
2025-05-29 12:56:38,633 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 12:56:38,763 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 12:56:38,907 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:39,891 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 12:56:40,035 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 12:56:40,179 - memory_enhanced_rag - INFO - Travel data loaded successfully
2025-05-29 12:56:40,339 - gemini_memory_rag_model - INFO - Travel data loaded, is_initialized=True
2025-05-29 12:56:40,490 - gemini_memory_rag_model - INFO - Loading user data from: /Users/debicabrera/.cursor-tutor/L200-upskilling/data/user_profiles/test_users.json
2025-05-29 12:56:40,659 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 12:56:40,865 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 12:56:41,016 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 12:56:41,935 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 12:56:43,010 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-29 12:56:43,850 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:44,008 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:44,815 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:45,306 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:46,163 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:46,502 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:47,346 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:47,694 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:48,555 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:48,850 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:49,639 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:49,931 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:50,928 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:51,250 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:52,099 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:52,388 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:53,673 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:54,025 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:55,024 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:55,310 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:56,127 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:56,515 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:57,489 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:57,789 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:58,618 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:56:58,886 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:56:59,784 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:00,121 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:00,925 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:01,212 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:02,072 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:02,370 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:03,065 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:03,366 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:04,394 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:04,705 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:05,573 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:05,887 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:06,988 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:07,251 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:08,198 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:08,482 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:09,329 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:09,606 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:10,436 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:10,746 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:11,636 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:11,911 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:12,737 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:13,026 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:13,994 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:14,265 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:15,256 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:15,560 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 12:57:16,421 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 12:57:16,557 - gemini_memory_rag_model - INFO - User data loaded and initialized successfully
2025-05-29 12:57:16,718 - gemini_memory_rag_model - INFO - Memory RAG system initialization complete. Status: {'initialized': True, 'instance_available': True, 'ready': True}
2025-05-29 13:14:21,993 - gemini_memory_rag_model - INFO - Memory RAG already initialized and instance exists
2025-05-29 13:15:07,122 - gemini_model - INFO - Model preference set to: Base Model
2025-05-29 13:15:08,858 - gemini_memory_rag_model - INFO - Memory RAG already initialized and instance exists
2025-05-29 13:15:09,087 - gemini_memory_rag_model - INFO - Memory RAG Chat: User 'user_001' asked: 'I want to travel to Buenos Aires. Can you give me some recommendations?...'
2025-05-29 13:15:09,278 - rag_engine - INFO - RAGEngine: Received query: 'I want to travel to Buenos Aires. Can you give me some recommendations?...'
2025-05-29 13:15:09,633 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-29 13:15:09,910 - rag_vector_db - INFO - Performing search for query: 'I want to travel to Buenos Aires. Can you give me some recommendations?...' with top_k=3
2025-05-29 13:15:10,321 - rag_embedding_service - ERROR - Failed to generate embedding for text: 'I want to travel to Buenos Aires. Can you give me some recommendations?...'
2025-05-29 13:15:10,649 - rag_vector_db - ERROR - Failed to generate embedding for query: I want to travel to Buenos Aires. Can you give me some recommendations?...
2025-05-29 13:15:10,769 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-29 13:15:11,075 - gemini_model - INFO - Using base model
2025-05-29 13:15:23,613 - gemini_model - INFO - Model response generated
2025-05-29 13:15:23,774 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 0 relevant chunks.
2025-05-29 13:15:23,904 - rag_vector_db - ERROR - VectorSearchDB not initialized or endpoint not available for search.
2025-05-29 13:15:24,043 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:15:24,974 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:15:25,743 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:15:26,588 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:15:26,721 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:15:26,873 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x159f955e0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 13:15:27,008 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14a221970> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:15:27,137 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 13:15:27,296 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 13:15:27,435 - rag_vector_db - INFO - Performing search for query: 'I want to travel to Buenos Aires. Can you give me some recommendations?...' with top_k=4
2025-05-29 13:15:28,889 - rag_vector_db - INFO - Search completed. Found 4 results.
2025-05-29 13:15:29,068 - gemini_model - INFO - Using base model
2025-05-29 13:15:34,436 - gemini_model - INFO - Model response generated
2025-05-29 13:15:34,586 - gemini_memory_rag_model - INFO - Generated personalized response for user 'user_001' (length: 2867)
2025-05-29 13:15:35,093 - gemini_memory_rag_model - INFO - Memory RAG already initialized and instance exists
2025-05-29 13:15:35,229 - gemini_memory_rag_model - INFO - Recording interaction for user 'user_001': I want to travel to Buenos Aires. Can you give me ...
2025-05-29 13:32:10,007 - image_processor - ERROR - Error generating image embedding: 'ImageTextModel' object has no attribute 'get_embeddings'
2025-05-29 13:35:24,138 - image_processor - ERROR - Error generating image embedding: 'list' object has no attribute 'tolist'
2025-05-29 13:37:37,695 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 13:38:26,310 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 13:38:32,369 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:38:33,119 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:38:33,965 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:38:38,249 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 13:38:39,764 - image_processor - INFO - Found 24 images to process
2025-05-29 13:38:44,776 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:38:47,972 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 13:38:50,459 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 13:38:52,991 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 13:38:55,916 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 13:38:58,640 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 13:39:01,411 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 13:39:04,061 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 13:39:06,637 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 13:39:09,104 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 13:39:11,536 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 13:39:14,204 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 13:39:16,905 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:39:19,255 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 13:39:21,692 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 13:39:24,233 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 13:39:27,105 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 13:39:29,457 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 13:39:31,801 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 13:39:34,748 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 13:39:38,126 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 13:39:41,060 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 13:39:43,333 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 13:39:45,624 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 13:39:45,808 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-29 13:39:46,706 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:39:46,854 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:39:47,721 - rag_vector_db - ERROR - Failed to upsert datapoints to index travel_documents_index
2025-05-29 13:39:47,920 - multimodal_rag - ERROR - Error loading images: 400 Incorrect dimensionality. Expected 768, got 1408. Datapoint ID: img_images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg.
2025-05-29 13:39:51,295 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:39:51,426 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:39:51,553 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:39:51,686 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-29 13:39:51,869 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:39:52,809 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:39:53,596 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:39:54,574 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:39:54,709 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:39:54,881 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x15b595f70> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 13:39:55,036 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x15b79af10> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:39:55,170 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 13:39:55,289 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 13:39:55,402 - rag_vector_db - INFO - Performing search for query: 'Show me hotels with a pool...' with top_k=3
2025-05-29 13:39:55,533 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 13:39:56,290 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 13:39:58,186 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-29 13:39:58,361 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Puerto Madero Executive Hub_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:39:58,505 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:39:58,663 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Obelisco Central Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:39:58,789 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-29 13:39:58,938 - gemini_model - INFO - Using base model
2025-05-29 13:40:03,760 - gemini_model - INFO - Model response generated
2025-05-29 13:40:03,934 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-29 13:41:18,029 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 13:41:24,254 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:41:24,998 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:41:25,775 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:42:10,190 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 13:42:16,361 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:42:17,121 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:42:17,889 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:42:22,485 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:42:22,619 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 13:42:24,010 - image_processor - INFO - Found 24 images to process
2025-05-29 13:42:28,667 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:42:31,267 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 13:42:33,604 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 13:42:36,266 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 13:42:38,694 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 13:42:40,857 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 13:42:43,523 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 13:42:46,236 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 13:42:48,897 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 13:42:51,699 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 13:42:54,459 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 13:42:57,071 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 13:42:59,577 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:43:01,891 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 13:43:04,400 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 13:43:07,851 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 13:43:10,123 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 13:43:12,520 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 13:43:14,986 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 13:43:17,374 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 13:43:19,780 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 13:43:21,997 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 13:43:24,268 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 13:43:26,408 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 13:43:26,551 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:43:27,445 - rag_vector_db - INFO - Index with display name 'travel_images_index' not found. Creating new index.
2025-05-29 13:43:27,599 - rag_vector_db - INFO - Creating new Vector Search index 'travel_images_index' with Stream Updates.
2025-05-29 13:43:54,166 - rag_vector_db - INFO - Created new Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424) with stream updates enabled.
2025-05-29 13:43:54,963 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:43:55,976 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:43:56,135 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:43:56,250 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x121657e50> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-29 13:43:56,409 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x121505940> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:43:56,565 - rag_vector_db - WARNING - Deployment ID 'travel_index_deploy_v2' on endpoint points to different index (projects/708208532564/locations/us-central1/indexes/514151428357357568). Undeploying.
2025-05-29 13:43:56,705 - rag_vector_db - ERROR - Failed to deploy index 'travel_images_index': undeploy_index() got an unexpected keyword argument 'sync'
2025-05-29 13:43:56,845 - rag_vector_db - ERROR - Failed to initialize VectorSearchDB (infrastructure setup failed)
2025-05-29 13:43:57,029 - multimodal_rag - ERROR - Error loading images: undeploy_index() got an unexpected keyword argument 'sync'
2025-05-29 13:44:00,421 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:44:00,545 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:44:00,688 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:44:00,856 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-29 13:44:01,020 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:44:01,975 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:44:02,865 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:44:03,630 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:44:03,806 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:44:03,972 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1216b4e50> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 13:44:04,135 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12165edc0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:44:04,283 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_index_deploy_v2') already deployed.
2025-05-29 13:44:04,448 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 13:44:04,594 - rag_vector_db - INFO - Performing search for query: 'Show me hotels with a pool...' with top_k=3
2025-05-29 13:44:04,769 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 13:44:05,507 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 13:44:07,488 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-29 13:44:07,609 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Puerto Madero Executive Hub_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:44:07,755 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:44:07,916 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Obelisco Central Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 13:44:08,076 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-29 13:44:08,202 - gemini_model - INFO - Using base model
2025-05-29 13:44:12,487 - gemini_model - INFO - Model response generated
2025-05-29 13:44:12,649 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-29 13:45:04,792 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 13:45:11,038 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:45:11,761 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:45:12,520 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:45:16,638 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:45:16,796 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 13:45:18,137 - image_processor - INFO - Found 24 images to process
2025-05-29 13:45:23,507 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:45:26,031 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 13:45:28,591 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 13:45:31,190 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 13:45:34,207 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 13:45:36,712 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 13:45:39,586 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 13:45:42,279 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 13:45:44,804 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 13:45:47,270 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 13:45:49,629 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 13:45:52,126 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 13:45:54,690 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 13:45:57,063 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 13:45:59,515 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 13:46:02,107 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 13:46:04,640 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 13:46:06,948 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 13:46:09,222 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 13:46:11,953 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 13:46:14,522 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 13:46:16,804 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 13:46:19,160 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 13:46:21,301 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 13:46:21,442 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:46:22,252 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 13:46:23,093 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:46:23,894 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:46:24,030 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:46:24,176 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x11d119670> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-29 13:46:24,355 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x11cecdc70> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:46:24,489 - rag_vector_db - WARNING - Deployment ID 'travel_index_deploy_v2' on endpoint points to different index (projects/708208532564/locations/us-central1/indexes/514151428357357568). Undeploying.
2025-05-29 13:46:25,979 - rag_vector_db - INFO - Undeployed conflicting ID 'travel_index_deploy_v2'.
2025-05-29 13:46:26,136 - rag_vector_db - INFO - Deploying index 'travel_images_index' (projects/708208532564/locations/us-central1/indexes/4361843991247847424) to endpoint 'travel_index_endpoint' as 'travel_index_deploy_v2'
2025-05-29 13:46:26,969 - rag_vector_db - ERROR - Failed to deploy index 'travel_images_index': 400 There exists a DeployedIndex with same ID "travel_index_deploy_v2" either in failed state or being undeployed at the following IndexEndpoint: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304. It will be deleted automatically, please retry again later or use a different ID.
2025-05-29 13:46:27,122 - rag_vector_db - ERROR - Failed to initialize VectorSearchDB (infrastructure setup failed)
2025-05-29 13:46:27,316 - multimodal_rag - ERROR - Error loading images: 400 There exists a DeployedIndex with same ID "travel_index_deploy_v2" either in failed state or being undeployed at the following IndexEndpoint: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304. It will be deleted automatically, please retry again later or use a different ID.
2025-05-29 13:46:31,373 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 13:46:31,516 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 13:46:31,718 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 13:46:31,855 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-29 13:46:32,008 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 13:46:32,899 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 13:46:33,700 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 13:46:34,461 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 13:46:34,585 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 13:46:34,747 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x11f2dd520> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 13:46:34,873 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x11d132c40> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 13:46:35,030 - rag_vector_db - INFO - Deploying index 'travel_documents_index' (projects/708208532564/locations/us-central1/indexes/514151428357357568) to endpoint 'travel_index_endpoint' as 'travel_index_deploy_v2'
2025-05-29 13:46:35,894 - rag_vector_db - ERROR - Failed to deploy index 'travel_documents_index': 400 There exists a DeployedIndex with same ID "travel_index_deploy_v2" either in failed state or being undeployed at the following IndexEndpoint: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304. It will be deleted automatically, please retry again later or use a different ID.
2025-05-29 13:46:36,031 - rag_vector_db - ERROR - Failed to initialize VectorSearchDB (infrastructure setup failed)
2025-05-29 13:46:36,200 - multimodal_rag - ERROR - Error in multimodal query: 400 There exists a DeployedIndex with same ID "travel_index_deploy_v2" either in failed state or being undeployed at the following IndexEndpoint: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304. It will be deleted automatically, please retry again later or use a different ID.
2025-05-29 15:02:48,044 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 15:02:54,723 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 15:02:56,243 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 15:02:56,996 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 15:03:01,267 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 15:03:01,443 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 15:03:02,849 - image_processor - INFO - Found 24 images to process
2025-05-29 15:03:07,625 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 15:03:10,281 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 15:03:12,988 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 15:03:15,445 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 15:03:18,016 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 15:03:20,562 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 15:03:23,335 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 15:03:25,845 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 15:03:28,312 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 15:03:30,892 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 15:03:33,341 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 15:03:35,703 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 15:03:38,152 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 15:03:40,484 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 15:03:43,089 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 15:03:45,526 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 15:03:48,005 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 15:03:50,332 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 15:03:52,843 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 15:03:55,196 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 15:03:57,552 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 15:03:59,612 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 15:04:02,054 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 15:04:04,206 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 15:04:04,360 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 15:04:05,237 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 15:04:06,128 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 15:04:06,898 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 15:04:07,047 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 15:04:07,220 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x139bd6fa0> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-29 15:04:07,388 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x139a8df10> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 15:04:07,581 - rag_vector_db - INFO - Deploying index 'travel_images_index' (projects/708208532564/locations/us-central1/indexes/4361843991247847424) to endpoint 'travel_index_endpoint' as 'travel_images_index_deploy_v1'
2025-05-29 16:05:26,350 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 16:05:32,076 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 16:05:32,793 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 16:05:33,535 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 16:05:37,439 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 16:05:37,607 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 16:05:39,134 - image_processor - INFO - Found 24 images to process
2025-05-29 16:05:43,825 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 16:05:46,390 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 16:05:48,931 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 16:05:51,410 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 16:05:53,837 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 16:05:56,529 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 16:05:59,184 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 16:06:02,580 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 16:06:04,872 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 16:06:07,451 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 16:06:09,844 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 16:06:12,367 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 16:06:14,890 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 16:06:17,190 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 16:06:19,643 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 16:06:21,903 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 16:06:24,216 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 16:06:26,998 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 16:06:29,266 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 16:06:31,635 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 16:06:34,088 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 16:06:36,248 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 16:06:38,598 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 16:06:41,047 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 16:06:41,199 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 16:06:42,250 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:06:43,011 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 16:06:44,010 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 16:06:44,176 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 16:06:44,321 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12cd997f0> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-29 16:06:44,484 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12cd99fd0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 16:06:44,648 - rag_vector_db - INFO - Deploying index 'travel_images_index' (projects/708208532564/locations/us-central1/indexes/4361843991247847424) to endpoint 'travel_index_endpoint' as 'travel_images_index_deploy'
2025-05-29 16:14:57,685 - rag_vector_db - INFO - Deployment initiated for index 'travel_images_index' as 'travel_images_index_deploy'. Async operation.
2025-05-29 16:14:57,970 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 16:14:58,169 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:14:59,039 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:14:59,201 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:00,071 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:00,244 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:01,092 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:01,246 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:02,059 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:02,255 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:03,031 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:03,153 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:04,004 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:04,121 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:04,913 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:05,060 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:05,894 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:06,041 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:06,932 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:07,090 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:08,088 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:08,244 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:09,115 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:09,300 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:10,136 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:10,271 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:11,072 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:11,200 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:12,056 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:12,200 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:12,917 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:13,075 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:13,874 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:14,027 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:14,847 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:14,983 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:16,131 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:16,276 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:17,044 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:17,200 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:17,861 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:18,054 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:19,416 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:19,551 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:20,379 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:20,538 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:21,322 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:21,479 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 16:15:22,309 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 16:15:22,421 - multimodal_rag - INFO - Successfully loaded 24 images
2025-05-29 16:15:25,503 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 16:15:25,629 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 16:15:25,895 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 16:15:26,196 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-29 16:15:26,365 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 16:15:27,293 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 16:15:28,005 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 16:15:28,841 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 16:15:28,966 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 16:15:29,098 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12cda9a00> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 16:15:29,249 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12cdf9fa0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 16:15:29,400 - rag_vector_db - INFO - Deploying index 'travel_documents_index' (projects/708208532564/locations/us-central1/indexes/514151428357357568) to endpoint 'travel_index_endpoint' as 'travel_documents_index_deploy'
2025-05-29 16:22:39,860 - rag_vector_db - INFO - Deployment initiated for index 'travel_documents_index' as 'travel_documents_index_deploy'. Async operation.
2025-05-29 16:22:40,101 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 16:22:40,255 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-29 16:22:40,395 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 16:22:41,333 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 16:22:43,219 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-29 16:22:43,498 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Puerto Madero Executive Hub_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 16:22:43,763 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 16:22:44,021 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Obelisco Central Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-29 16:22:44,213 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-29 16:22:44,387 - gemini_model - INFO - Using base model
2025-05-29 16:22:48,525 - gemini_model - INFO - Model response generated
2025-05-29 16:22:48,669 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-29 18:37:02,944 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-29 18:37:09,062 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 18:37:09,777 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 18:37:10,499 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 18:37:14,513 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 18:37:14,703 - rag_engine - INFO - RAGEngine: Starting dataset processing for data/travel/sample_travel.ndjson
2025-05-29 18:37:14,864 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 18:37:15,579 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 18:37:16,605 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 18:37:17,298 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 18:37:17,461 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 18:37:17,609 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x128cbc2e0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-29 18:37:17,786 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x101fb2ac0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 18:37:17,955 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-29 18:37:18,103 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 18:37:18,262 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-29 18:37:19,177 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-29 18:37:23,430 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from data/travel/sample_travel.ndjson.
2025-05-29 18:37:23,593 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-29 18:37:23,761 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-29 18:37:23,933 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-29 18:37:24,976 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-29 18:37:25,133 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-29 18:37:25,262 - multimodal_rag - INFO - Processing images from bucket...
2025-05-29 18:37:26,666 - image_processor - INFO - Found 24 images to process
2025-05-29 18:37:31,028 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 18:37:33,651 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-29 18:37:36,020 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-29 18:37:38,409 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-29 18:37:40,820 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-29 18:37:43,380 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-29 18:37:46,226 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-29 18:37:49,191 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-29 18:37:51,631 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-29 18:37:54,332 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-29 18:37:56,884 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-29 18:37:59,391 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-29 18:38:02,514 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-29 18:38:04,765 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-29 18:38:07,067 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-29 18:38:09,546 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-29 18:38:12,038 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-29 18:38:14,409 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-29 18:38:17,063 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-29 18:38:19,527 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-29 18:38:22,079 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-29 18:38:24,650 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-29 18:38:27,163 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-29 18:38:29,241 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-29 18:38:29,374 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-29 18:38:30,321 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:31,125 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-29 18:38:31,922 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-29 18:38:32,057 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-29 18:38:32,192 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12a30ef10> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-29 18:38:32,337 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x128ca8970> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-29 18:38:32,485 - rag_vector_db - INFO - Index 'travel_images_index' (as 'travel_images_index_deploy') already deployed.
2025-05-29 18:38:32,669 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-29 18:38:32,853 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:33,775 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:33,882 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:34,648 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:34,774 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:35,630 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:35,746 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:36,666 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:36,787 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:37,753 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:37,939 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:38,731 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:38,839 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:39,663 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:39,846 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:40,737 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:40,880 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:41,848 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:42,004 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:42,976 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:43,109 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:44,053 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:44,162 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:44,825 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:44,981 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:45,776 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:45,929 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:46,715 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:46,880 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:47,681 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:47,805 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:48,760 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:48,960 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:49,738 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:49,891 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:50,697 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:50,844 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:51,721 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:51,899 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:52,727 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:52,894 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:53,747 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:53,902 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:54,660 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:54,810 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:55,640 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:55,784 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-29 18:38:56,429 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-29 18:38:56,618 - multimodal_rag - INFO - Successfully loaded 24 images
2025-05-29 18:38:59,904 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-29 18:39:00,064 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-29 18:39:00,216 - rag_engine - INFO - RAGEngine initialized.
2025-05-29 18:39:00,361 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-29 18:39:00,481 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-29 18:39:00,630 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-29 18:39:01,578 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-29 18:39:01,746 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-29 18:39:01,903 - gemini_model - INFO - Using base model
2025-05-29 18:39:03,651 - gemini_model - INFO - Model response generated
2025-05-29 18:39:03,763 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-30 15:27:06,894 - pdf_processor - ERROR - Error downloading PDF docs/travel_guide.pdf: 404 GET https://storage.googleapis.com/download/storage/v1/b/genai-l200-training/o/docs%2Ftravel_guide.pdf?alt=media: No such object: genai-l200-training/docs/travel_guide.pdf: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>, <HTTPStatus.PARTIAL_CONTENT: 206>)
2025-05-30 15:28:03,343 - pdf_processor - ERROR - Error downloading PDF travel_guide.pdf: 404 GET https://storage.googleapis.com/download/storage/v1/b/genai-l200-training/o/travel_guide.pdf?alt=media: No such object: genai-l200-training/travel_guide.pdf: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>, <HTTPStatus.PARTIAL_CONTENT: 206>)
2025-05-30 15:28:42,237 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 16:01:47,512 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 16:01:53,716 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 16:01:54,387 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 16:01:55,085 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 16:02:47,472 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 16:02:52,992 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 16:02:53,584 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 16:02:54,183 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 16:03:44,964 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 16:03:51,384 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 16:03:51,980 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 16:03:52,566 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 16:03:54,167 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 16:03:54,833 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-30 16:03:56,322 - rag_vector_db - INFO - Index with display name 'pdf_content_index' not found. Creating new index.
2025-05-30 16:03:56,434 - rag_vector_db - INFO - Creating new Vector Search index 'pdf_content_index' with Stream Updates.
2025-05-30 16:04:37,262 - rag_vector_db - INFO - Created new Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992) with stream updates enabled.
2025-05-30 16:04:37,419 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:37,569 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:37,728 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:37,907 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,085 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,261 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,398 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,550 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,666 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,818 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:38,981 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,136 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,271 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,437 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,597 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,753 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:39,875 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,023 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,169 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,336 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,478 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,617 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,729 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:40,896 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,040 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,204 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,365 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,504 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,604 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,730 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:41,866 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,049 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,227 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,355 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,507 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,613 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,766 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:42,923 - rag_vector_db - WARNING - Document missing id or embedding, skipping: N/A
2025-05-30 16:04:43,054 - rag_vector_db - WARNING - No valid datapoints to upsert after filtering.
2025-05-30 16:04:43,189 - pdf_rag - ERROR - Error processing and indexing PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf: object list can't be used in 'await' expression
2025-05-30 17:44:40,526 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 17:44:48,987 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 17:44:50,543 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 17:44:51,265 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 17:44:54,216 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 17:44:54,993 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 17:44:56,662 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 17:45:03,532 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-30 17:45:04,479 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:45:04,635 - rag_vector_db - INFO - Upserting 38 datapoints to index pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:45:05,798 - rag_vector_db - INFO - Successfully upserted 38 documents.
2025-05-30 17:45:05,939 - pdf_rag - INFO - Successfully indexed 38 chunks from PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf
2025-05-30 17:45:06,630 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 17:45:06,781 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 17:45:07,689 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:45:08,607 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 17:45:09,615 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 17:45:09,759 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 17:45:09,950 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x11349d370> 
resource name: projects/708208532564/locations/us-central1/indexes/8788882424953044992
2025-05-30 17:45:10,084 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x11301ce50> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 17:45:10,279 - rag_vector_db - INFO - Deploying index 'pdf_content_index' (projects/708208532564/locations/us-central1/indexes/8788882424953044992) to endpoint 'travel_index_endpoint' as 'pdf_content_index_deploy'
2025-05-30 17:57:21,530 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 17:57:28,690 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 17:57:29,481 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 17:57:30,197 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 17:57:33,324 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 17:57:34,543 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 17:57:36,229 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 17:57:43,382 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-30 17:57:44,388 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:57:44,528 - rag_vector_db - INFO - Upserting 38 datapoints to index pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:57:45,501 - rag_vector_db - INFO - Successfully upserted 38 documents.
2025-05-30 17:57:45,646 - pdf_rag - INFO - Successfully indexed 38 chunks from PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf
2025-05-30 17:57:46,375 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 17:57:46,512 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 17:57:47,374 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:57:48,252 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 17:57:49,141 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 17:57:49,272 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 17:57:49,440 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x12e019610> 
resource name: projects/708208532564/locations/us-central1/indexes/8788882424953044992
2025-05-30 17:57:49,607 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x12e019fa0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 17:57:49,764 - rag_vector_db - INFO - Index 'pdf_content_index' (as 'pdf_content_index_deploy') already deployed.
2025-05-30 17:57:49,931 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 17:57:50,878 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 17:58:32,962 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 17:58:40,321 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 17:58:41,008 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 17:58:41,760 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 17:58:44,630 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 17:58:45,339 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 17:58:46,880 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 17:58:53,684 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-30 17:58:54,683 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:58:54,887 - rag_vector_db - INFO - Upserting 38 datapoints to index pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:58:56,134 - rag_vector_db - INFO - Successfully upserted 38 documents.
2025-05-30 17:58:56,295 - pdf_rag - INFO - Successfully indexed 38 chunks from PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf
2025-05-30 17:58:57,021 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 17:58:57,190 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 17:58:58,206 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 17:58:59,155 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 17:59:00,126 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 17:59:00,251 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 17:59:00,391 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x15f8487c0> 
resource name: projects/708208532564/locations/us-central1/indexes/8788882424953044992
2025-05-30 17:59:00,535 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x15f848fd0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 17:59:00,710 - rag_vector_db - INFO - Index 'pdf_content_index' (as 'pdf_content_index_deploy') already deployed.
2025-05-30 17:59:00,843 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 17:59:01,727 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 17:59:50,003 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 17:59:56,605 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 17:59:57,316 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 17:59:58,051 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:00:01,042 - pdf_processor - INFO - Successfully processed PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf into 38 chunks
2025-05-30 18:00:01,805 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 18:00:03,624 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 18:00:10,504 - rag_vector_db - WARNING - _get_index_handle called when self.index is None. Re-attempting _get_or_create_index.
2025-05-30 18:00:11,316 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 18:00:11,454 - rag_vector_db - INFO - Upserting 38 datapoints to index pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 18:00:12,824 - rag_vector_db - INFO - Successfully upserted 38 documents.
2025-05-30 18:00:12,960 - pdf_rag - INFO - Successfully indexed 38 chunks from PDF documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf
2025-05-30 18:00:14,692 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:00:14,850 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:00:15,888 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 18:00:17,166 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:00:18,356 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:00:18,532 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:00:18,710 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1423a1c40> 
resource name: projects/708208532564/locations/us-central1/indexes/8788882424953044992
2025-05-30 18:00:18,853 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x141cac4f0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:00:19,041 - rag_vector_db - INFO - Index 'pdf_content_index' (as 'pdf_content_index_deploy') already deployed.
2025-05-30 18:00:19,156 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:00:20,215 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:07:21,858 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:07:28,051 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:07:28,778 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:07:29,540 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:07:33,738 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:07:33,859 - rag_engine - INFO - RAGEngine: Starting dataset processing for data/travel/sample_travel.ndjson
2025-05-30 18:07:34,003 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:07:34,910 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:07:35,920 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:07:36,865 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:07:36,982 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:07:37,158 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1389444f0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-30 18:07:37,295 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x138931be0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:07:37,419 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-30 18:07:37,565 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:07:37,689 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 18:07:38,650 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 18:07:43,083 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from data/travel/sample_travel.ndjson.
2025-05-30 18:07:43,246 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-30 18:07:43,373 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-30 18:07:43,506 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:07:44,433 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-30 18:07:44,595 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-30 18:07:44,752 - multimodal_rag - INFO - Processing images from bucket...
2025-05-30 18:07:46,092 - image_processor - INFO - Found 24 images to process
2025-05-30 18:07:50,574 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-30 18:07:53,107 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-30 18:07:56,141 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-30 18:07:58,535 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-30 18:08:01,092 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-30 18:08:03,488 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-30 18:08:06,367 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-30 18:08:08,801 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-30 18:08:11,309 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-30 18:08:13,715 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-30 18:08:16,140 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-30 18:08:18,707 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-30 18:08:21,262 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-30 18:08:23,497 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-30 18:08:25,904 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-30 18:08:28,325 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-30 18:08:31,106 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-30 18:08:33,465 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-30 18:08:35,886 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-30 18:08:38,343 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-30 18:08:41,018 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-30 18:08:43,299 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-30 18:08:45,710 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-30 18:08:47,713 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-30 18:08:47,856 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:08:48,684 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:49,522 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:08:50,340 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:08:50,517 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:08:50,694 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x138c96f10> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-30 18:08:50,851 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x138c9cf70> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:08:51,020 - rag_vector_db - INFO - Index 'travel_images_index' (as 'travel_images_index_deploy') already deployed.
2025-05-30 18:08:51,172 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:08:51,313 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:52,211 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:52,313 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:53,363 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:53,483 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:54,609 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:54,728 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:55,540 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:55,691 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:56,651 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:56,837 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:57,887 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:58,101 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:08:59,537 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:08:59,702 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:00,753 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:00,954 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:01,896 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:02,057 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:02,918 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:03,075 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:03,854 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:03,992 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:05,221 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:05,374 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:06,218 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:06,365 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:07,102 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:07,247 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:08,089 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:08,252 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:09,282 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:09,457 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:10,331 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:10,499 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:11,387 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:11,509 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:12,311 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:12,485 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:13,362 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:13,523 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:14,436 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:14,604 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:15,406 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:15,540 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:16,312 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:16,477 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:09:17,377 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:09:17,532 - multimodal_rag - INFO - Successfully loaded 24 images
2025-05-30 18:09:21,238 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:09:21,372 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:09:21,521 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:09:21,846 - rag_engine - INFO - RAGEngine: Received query: 'Show me hotels with a pool...'
2025-05-30 18:09:22,231 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-30 18:09:22,709 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:09:23,976 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:09:24,131 - rag_engine - INFO - Augmented prompt for LLM (first 300 chars): 
You are an expert and friendly AI travel assistant specializing in Buenos Aires.
Your knowledge about specific hotels, their features, and locations comes ONLY from the following retrieved context from local travel documents.

Please answer the user's query based on this context.

- If the context ...
2025-05-30 18:09:24,275 - gemini_model - INFO - Using base model
2025-05-30 18:09:26,529 - gemini_model - INFO - Model response generated
2025-05-30 18:09:26,708 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-30 18:11:04,335 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:11:12,057 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:11:12,850 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:11:13,693 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:11:18,403 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:11:18,536 - rag_engine - INFO - RAGEngine: Starting dataset processing for data/travel/sample_travel.ndjson
2025-05-30 18:11:18,650 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:11:19,626 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:11:20,615 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:11:21,709 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:11:21,839 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:11:21,962 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14e13bfa0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-30 18:11:22,077 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x10768fac0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:11:22,238 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-30 18:11:22,362 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:11:22,545 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 18:11:23,385 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 18:11:27,428 - rag_document_processor - INFO - Successfully processed. Total chunks for upsert: 20. Total chunk data mappings: 20 from data/travel/sample_travel.ndjson.
2025-05-30 18:11:27,573 - rag_engine - INFO - RAGEngine: Stored/updated chunk data map with 20 new entries. Total map size: 20.
2025-05-30 18:11:27,726 - rag_engine - INFO - RAGEngine: Upserting 20 processed chunks to VectorDB.
2025-05-30 18:11:27,848 - rag_vector_db - INFO - Upserting 20 datapoints to index travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:11:28,854 - rag_vector_db - INFO - Successfully upserted 20 documents.
2025-05-30 18:11:28,974 - rag_engine - INFO - RAGEngine: Completed upserting. 20 chunks confirmed upserted.
2025-05-30 18:11:29,166 - multimodal_rag - INFO - Processing images from bucket...
2025-05-30 18:11:30,468 - image_processor - INFO - Found 24 images to process
2025-05-30 18:11:34,776 - image_processor - INFO - Successfully processed images/Bistecca-Fiorentina-Florence-The-Tour-Guy-Tours.jpg
2025-05-30 18:11:37,207 - image_processor - INFO - Successfully processed images/Brancacci-Chapel-Florence-The-Tour-Guy-Tours-1.jpeg
2025-05-30 18:11:39,572 - image_processor - INFO - Successfully processed images/Bronze-Boar-Il-Porcellino-Florence-with-Sean-People-700-x-425.jpg
2025-05-30 18:11:42,376 - image_processor - INFO - Successfully processed images/Chianti-Wine-tour-The-Tour-Guy-700.jpg
2025-05-30 18:11:45,178 - image_processor - INFO - Successfully processed images/Cinque-Terre-from-Florence-Day-Trip-700-x-425.jpg
2025-05-30 18:11:47,562 - image_processor - INFO - Successfully processed images/Florence-wine-door.jpg
2025-05-30 18:11:49,939 - image_processor - INFO - Successfully processed images/Florence_Dome_Girl.jpg
2025-05-30 18:11:53,090 - image_processor - INFO - Successfully processed images/Garden-of-the-Roses-Florence-700-x-425.jpg
2025-05-30 18:11:55,365 - image_processor - INFO - Successfully processed images/Gates-of-Paradise-Florence-Baptistry-Duomo.jpg
2025-05-30 18:11:57,790 - image_processor - INFO - Successfully processed images/Iris-Gardens-Florence-700-x-425.jpg
2025-05-30 18:12:00,332 - image_processor - INFO - Successfully processed images/La-Loggia-Terrace-700-x-425.jpg
2025-05-30 18:12:02,816 - image_processor - INFO - Successfully processed images/Leaning-Tower-of-Pisa-700-x-425.jpg
2025-05-30 18:12:05,237 - image_processor - INFO - Successfully processed images/Mercato-Centrale-Florence-The-Tour-Guy-Tours.jpg
2025-05-30 18:12:07,516 - image_processor - INFO - Successfully processed images/PTR-CF-Tuscany-Vespa-thumbnail.jpg
2025-05-30 18:12:09,763 - image_processor - INFO - Successfully processed images/Piazzalle-Michelangelo-Sunset-700-x-425.jpeg
2025-05-30 18:12:12,158 - image_processor - INFO - Successfully processed images/Ponte-Vecchio-Florence-The-Tour-Guy-Tours-700.jpg
2025-05-30 18:12:14,436 - image_processor - INFO - Successfully processed images/San-Miniato-The-Tour-Guy.jpg
2025-05-30 18:12:16,644 - image_processor - INFO - Successfully processed images/Trippa-Florence-Full-Day-Tour-with-Uffizi.jpg
2025-05-30 18:12:19,034 - image_processor - INFO - Successfully processed images/Uffizi_Gallery_Florence-e1602093720614.jpg
2025-05-30 18:12:21,348 - image_processor - INFO - Successfully processed images/Wisteria-Tunnel-Bardini-Gardens-Florence-Adobe-700.jpeg
2025-05-30 18:12:23,904 - image_processor - INFO - Successfully processed images/florence-bike-tour-700-x-425.jpg
2025-05-30 18:12:26,030 - image_processor - INFO - Successfully processed images/florence-gondola-thumb-700-x-425.jpeg
2025-05-30 18:12:28,374 - image_processor - INFO - Successfully processed images/fltwn-tuscany-wineland-safari-thumb-700-x-425.jpg
2025-05-30 18:12:30,426 - image_processor - INFO - Successfully processed images/group-on-red-fiat-500.jpeg
2025-05-30 18:12:30,564 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:12:31,602 - rag_vector_db - INFO - Using existing Vector Search index: travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:32,681 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:12:33,728 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:12:33,891 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:12:34,066 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x14e4982e0> 
resource name: projects/708208532564/locations/us-central1/indexes/4361843991247847424
2025-05-30 18:12:34,252 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x14e498f70> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:12:34,440 - rag_vector_db - INFO - Index 'travel_images_index' (as 'travel_images_index_deploy') already deployed.
2025-05-30 18:12:34,607 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:12:34,734 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:35,584 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:35,779 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:36,631 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:36,744 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:37,614 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:37,752 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:38,603 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:38,782 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:39,625 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:39,740 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:40,991 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:41,120 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:41,963 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:42,101 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:43,011 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:43,146 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:43,887 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:44,068 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:44,930 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:45,065 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:46,026 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:46,144 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:47,078 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:47,206 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:48,061 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:48,219 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:49,080 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:49,234 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:50,059 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:50,172 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:51,095 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:51,255 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:52,215 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:52,358 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:53,175 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:53,283 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:54,158 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:54,324 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:55,057 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:55,241 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:55,999 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:56,165 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:57,173 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:57,361 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:58,090 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:58,203 - rag_vector_db - INFO - Upserting 1 datapoints to index travel_images_index (projects/708208532564/locations/us-central1/indexes/4361843991247847424)
2025-05-30 18:12:58,991 - rag_vector_db - INFO - Successfully upserted 1 documents.
2025-05-30 18:12:59,145 - multimodal_rag - INFO - Successfully loaded 24 images
2025-05-30 18:13:02,431 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:13:02,583 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:13:02,708 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:13:02,944 - rag_engine - INFO - RAGEngine: Received query: 'Tell me about wine tours in Florence...'
2025-05-30 18:13:03,122 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-30 18:13:03,248 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:13:04,654 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:13:04,830 - rag_engine - WARNING - Data for chunk ID user_003_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:05,036 - rag_engine - WARNING - Data for chunk ID user_003_conversation_2 not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:05,182 - rag_engine - WARNING - Data for chunk ID user_001_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:05,337 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:13:05,469 - gemini_model - INFO - Using base model
2025-05-30 18:13:16,135 - gemini_model - INFO - Model response generated
2025-05-30 18:13:16,288 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-30 18:13:20,423 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:13:21,253 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:13:23,901 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:13:24,217 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:13:24,365 - rag_engine - INFO - RAGEngine: Received query: 'Find tours similar to this wine tour...'
2025-05-30 18:13:24,509 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-30 18:13:24,663 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:13:25,092 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:13:25,273 - rag_engine - WARNING - Data for chunk ID user_003_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:25,396 - rag_engine - WARNING - Data for chunk ID user_002_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:25,585 - rag_engine - WARNING - Data for chunk ID user_001_travel_preferences not found in RAGEngine.chunk_data_map.
2025-05-30 18:13:25,779 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:13:25,988 - gemini_model - INFO - Using base model
2025-05-30 18:13:33,241 - gemini_model - INFO - Model response generated
2025-05-30 18:13:33,369 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-30 18:18:38,978 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:20:37,091 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:22:12,742 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:22:24,451 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:22:25,229 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:22:25,995 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:31:48,601 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:33:24,505 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:33:36,205 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:33:37,685 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:33:38,424 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:33:42,367 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:33:42,489 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:33:42,626 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:33:42,805 - rag_engine - INFO - RAGEngine: Received query: 'What are some good hotels in Florence?...'
2025-05-30 18:33:42,941 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:33:44,730 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:33:45,536 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:33:46,403 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:33:46,548 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:33:46,728 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x155c09d60> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-30 18:33:46,900 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x155a95070> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:33:47,060 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-30 18:33:47,196 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:33:47,399 - rag_vector_db - INFO - Performing search with top_k=None
2025-05-30 18:33:47,566 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 18:33:48,425 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 18:33:50,287 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-30 18:33:50,419 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Soho Vibe Lofts_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:50,585 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Alvear Art Hotel_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:50,721 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Hollywood Design Hotel_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:50,845 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Monserrat Heritage Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:50,969 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:51,137 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:33:51,295 - gemini_model - INFO - Using base model
2025-05-30 18:33:57,553 - gemini_model - INFO - Model response generated
2025-05-30 18:33:57,677 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-30 18:33:57,826 - rag_engine - INFO - RAGEngine: Received query: 'What are the best restaurants for authentic Tuscan cuisine?...'
2025-05-30 18:33:57,973 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-30 18:33:58,150 - rag_vector_db - INFO - Performing search with top_k=None
2025-05-30 18:33:58,579 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-30 18:33:58,728 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_The Artisan San Telmo_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:58,891 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Soho Vibe Lofts_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:59,044 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_San Telmo Colonial Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:59,194 - rag_engine - WARNING - Data for chunk ID user_003_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:59,345 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:33:59,500 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:33:59,635 - gemini_model - INFO - Using base model
2025-05-30 18:34:07,267 - gemini_model - INFO - Model response generated
2025-05-30 18:34:07,449 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-30 18:34:08,966 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,968 - ragas.executor - ERROR - Exception raised in Job[9]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:08,980 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,981 - ragas.executor - ERROR - Exception raised in Job[7]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:08,982 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,983 - ragas.executor - ERROR - Exception raised in Job[5]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:08,986 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,988 - ragas.executor - ERROR - Exception raised in Job[4]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:08,989 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,990 - ragas.executor - ERROR - Exception raised in Job[2]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:08,992 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:08,993 - ragas.executor - ERROR - Exception raised in Job[0]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:09,013 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:09,015 - ragas.executor - ERROR - Exception raised in Job[3]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:09,025 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:09,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:09,033 - ragas.executor - ERROR - Exception raised in Job[8]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:09,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:09,037 - ragas.executor - ERROR - Exception raised in Job[6]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:34:09,040 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-30 18:34:09,041 - ragas.executor - ERROR - Exception raised in Job[1]: AuthenticationError(Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-...yo*********y.... You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}})
2025-05-30 18:56:19,021 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:56:29,663 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:56:30,400 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:56:31,237 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:56:33,101 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:56:33,254 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:56:33,401 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:56:33,590 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:56:33,732 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:56:33,875 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:56:37,340 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:56:37,508 - rag_evaluation - INFO - 
Evaluating Text RAG...
2025-05-30 18:57:43,791 - rag_embedding_service - INFO - EmbeddingService configured
2025-05-30 18:57:54,206 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:57:54,945 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:57:55,719 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:57:57,426 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:57:57,558 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:57:57,717 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:57:57,887 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:57:58,061 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:57:58,205 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:58:01,532 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:58:01,682 - rag_evaluation - INFO - 
Evaluating Text RAG...
2025-05-30 18:58:05,616 - rag_vector_db - INFO - VectorSearchDB configured:
2025-05-30 18:58:05,735 - rag_document_processor - INFO - DocumentProcessor initialized
2025-05-30 18:58:05,911 - rag_engine - INFO - RAGEngine initialized.
2025-05-30 18:58:06,054 - rag_engine - INFO - RAGEngine: Received query: 'What are some good hotels in Florence?...'
2025-05-30 18:58:06,213 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:58:07,050 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:58:07,860 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:58:08,639 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:58:08,824 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:58:08,953 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1597663a0> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-30 18:58:09,112 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x15976dee0> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:58:09,234 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-30 18:58:09,412 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:58:09,546 - rag_vector_db - INFO - Performing search with top_k=None
2025-05-30 18:58:09,713 - rag_embedding_service - INFO - Initializing Vertex AI for Embedding Service: project=learningemini, location=us-central1
2025-05-30 18:58:10,537 - rag_embedding_service - INFO - Embedding model 'text-embedding-005' loaded successfully.
2025-05-30 18:58:12,224 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-30 18:58:12,375 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Soho Vibe Lofts_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:12,524 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Alvear Art Hotel_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:12,639 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Hollywood Design Hotel_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:12,787 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Monserrat Heritage Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:12,953 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Polo Suites_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:13,088 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:58:13,219 - gemini_model - INFO - Using base model
2025-05-30 18:58:23,477 - gemini_model - INFO - Model response generated
2025-05-30 18:58:23,672 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-30 18:58:23,801 - rag_evaluation - INFO - 
Test Case: What are some good hotels in Florence?
2025-05-30 18:58:24,008 - rag_evaluation - INFO - Response: Florence has a fantastic range of hotels, from budget-friendly to ultra-luxurious.  To give you the best recommendations, I need a little more information about what you're looking for. Tell me:

*   **What's your budget?** (e.g., Under $150/night, $150-$300/night, $300-$500/night, $500+ per night)
*   **What type of experience are you looking for?** (e.g., Romantic getaway, family vacation, solo travel, business trip, luxury, boutique, budget-friendly)
*   **What location are you interested in?** (e.g., Close to the Duomo, near the train station, in Oltrarno, a quiet neighborhood)
*   **What amenities are important to you?** (e.g., Rooftop terrace, pool, spa, on-site restaurant, free breakfast, free Wi-Fi, family-friendly amenities)
*   **When are you planning to travel?** (Dates can greatly impact pricing)

In the meantime, here are some suggestions, grouped by general category, to get you started.  These are well-regarded hotels, but availability and pricing can vary significantly.

**Luxury:**

*   **Hotel Santa Maria Novella:** Located in Santa Maria Novella square, it features elegant rooms with modern amenities.
*   **Hotel Pitti Palace al Ponte Vecchio:** As the name suggests, it is right beside the Ponte Vecchio bridge, so it offers fantastic views. It also has a beautiful rooftop bar with beautiful scenery.
*   **Portrait Firenze:** (Lungarno Collection) - Offers incredible views of the Ponte Vecchio and personalized service. Very stylish and luxurious.
*   **Four Seasons Hotel Firenze:**  A sprawling property with beautiful gardens, a luxurious spa, and exceptional dining.  A true oasis in the city.
*   **Hotel Lungarno:** (Lungarno Collection) - Another excellent option from the Ferragamo family, offering stylish rooms and excellent views of the Arno River.
*   **St. Regis Florence:**  Known for its opulent decor, impeccable service, and stunning views.
*   **Villa Cora:**  A beautiful 19th-century villa with gorgeous gardens, a pool, and a luxurious atmosphere.  Located a bit outside the city center.

**Mid-Range:**

*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.

**Boutique:**

*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.

**Budget-Friendly:**

*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.

**Family-Friendly:**

*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.

**Near the Train Station (Santa Maria Novella):**

*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.
*   **Hotel Pitti Palace al Ponte Vecchio:** Located right next to the Ponte Vecchio bridge, it offers fantastic views.
*   **Hotel Giglio:** Close to the Duomo, perfect for people who want to explore Florence.

**Important Considerations:**

*   **Book in Advance:** Florence is a popular destination, especially during peak season (spring and fall). Booking well in advance is crucial for securing the best rates and availability.
*   **Read Reviews:**  Check reviews on sites like TripAdvisor, Booking.com, and Expedia to get a sense of other travelers' experiences.
*   **Consider Location Carefully:** Florence is a very walkable city, but being centrally located can make a big difference, especially if you have limited time.

Once I have a better understanding of your preferences, I can provide more tailored recommendations.  Enjoy planning your trip to Florence!

2025-05-30 18:58:24,136 - rag_evaluation - INFO - Scores:
2025-05-30 18:58:24,334 - rag_evaluation - INFO -   answer_presence: 1.000
2025-05-30 18:58:24,508 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:58:24,692 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:58:24,879 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:58:25,010 - rag_evaluation - INFO -   overall: 0.500
2025-05-30 18:58:25,164 - rag_engine - INFO - RAGEngine: Received query: 'What are the must-see museums in Florence?...'
2025-05-30 18:58:25,321 - rag_vector_db - INFO - VectorSearchDB already initialized.
2025-05-30 18:58:25,453 - rag_vector_db - INFO - Performing search with top_k=None
2025-05-30 18:58:25,919 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-30 18:58:26,019 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Alvear Art Hotel_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:26,162 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Palermo Soho Vibe Lofts_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:26,334 - rag_engine - WARNING - Data for chunk ID user_003_conversation_2 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:26,480 - rag_engine - WARNING - Data for chunk ID user_002_conversation_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:26,636 - rag_engine - WARNING - Data for chunk ID sample_travel.ndjson_Monserrat Heritage Inn_chunk_0 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:26,841 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:58:26,984 - gemini_model - INFO - Using base model
2025-05-30 18:58:34,266 - gemini_model - INFO - Model response generated
2025-05-30 18:58:34,422 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-30 18:58:34,585 - rag_evaluation - INFO - 
Test Case: What are the must-see museums in Florence?
2025-05-30 18:58:34,724 - rag_evaluation - INFO - Response: Florence is overflowing with incredible museums! Here are some of the absolute must-see museums, categorized for your planning:

**For Renaissance Art & Sculpture:**

*   **Galleria dell'Accademia:**  Home to Michelangelo's *David*. It's an iconic symbol of Florence and Italian Renaissance sculpture. Book your tickets well in advance to avoid long queues.  You'll also find a collection of Florentine paintings, mostly from 1300-1600, and a collection of musical instruments.
*   **Uffizi Gallery (Galleria degli Uffizi):** One of the most famous and important art museums in the world.  It houses an unparalleled collection of Renaissance masterpieces, including Botticelli's *Birth of Venus* and *Primavera*, Leonardo da Vinci's *Annunciation*, works by Michelangelo, Raphael, Caravaggio, and many more.  Book well in advance!
*   **Bargello Museum (Museo del Bargello):** Focuses on Renaissance sculpture.  It features Donatello's *David* (bronze version), works by Michelangelo, Verrocchio, and Ghiberti (original panels from the Baptistery doors). A great complement to the Accademia for understanding Florentine sculpture.
*   **Palazzo Pitti:** A massive palace housing several museums:
    *   **Gallery of Modern Art (Galleria d'Arte Moderna):** Italian paintings and sculptures from the late 18th century to the early 20th century, focusing on the Macchiaioli movement.
    *   **Museum of Costume and Fashion (Museo della Moda e del Costume):** The history of fashion through garments and accessories.
    *   **Museum of Silverware (Museo degli Argenti):** Displays a wealth of Medici treasures, including cameos, crystal, and jewelry.
    *   **Palatine Gallery (Galleria Palatina):** Contains a significant collection of paintings, mainly from the Renaissance and Baroque periods, hung in the lavish state rooms of the palace. Works by Raphael, Titian, Rubens, and many others.

**For a Different Perspective:**

*   **Museo di San Marco:** Housed in a former monastery, famous for the frescoes by Fra Angelico, especially in the monks' cells. A place of peaceful contemplation and artistic beauty.
*   **Palazzo Vecchio:**  Florence's town hall, filled with stunning frescoes and sculptures, including works by Michelangelo, Donatello, and Verrocchio. Climb the Arnolfo Tower for panoramic views of Florence.
*   **Gucci Garden:**  Not just about fashion, but an immersive experience showcasing the history and evolution of the Gucci brand through art installations, archival pieces, and a restaurant.

**Churches with Art Worthy of Museums:**

*   **Basilica di Santa Maria Novella:** Masaccio's *Trinity* fresco is a groundbreaking work of early Renaissance art. Also features frescoes by Ghirlandaio.
*   **Brancacci Chapel (in the Church of Santa Maria del Carmine):** Famous for its frescoes by Masaccio and Masolino, depicting scenes from the life of St. Peter. A crucial monument in the development of Renaissance painting.
*   **Baptistery of San Giovanni:** See the famous bronze doors, including the *Gates of Paradise* by Ghiberti (though the originals are now in the Museo dell'Opera del Duomo).

**For a Bit of Everything:**

*   **Museo di Palazzo Davanzati:** A fascinating glimpse into the life of a wealthy Florentine family in the 14th century. The house is preserved with original furnishings and household items.

**Tips for Planning:**

*   **Book Tickets in Advance:**  Especially for the Uffizi and Accademia, booking online is essential, particularly during peak season.  Consider buying a Firenze Card for access to many museums.
*   **Consider a Guided Tour:** A good guide can provide valuable context and insights, especially in larger museums like the Uffizi.
*   **Pace Yourself:**  Florence is packed with art and culture.  Don't try to see everything in one day.  Prioritize what interests you most.
*   **Check Opening Hours:** Museum hours vary, so check their websites before you go.
*   **Wear Comfortable Shoes:** You'll be doing a lot of walking!
*   **Be Aware of Pickpockets:** Keep your belongings secure.

This list is a starting point. Depending on your interests (e.g., science, fashion, ceramics), there are many other museums to explore in Florence. Enjoy your trip!

2025-05-30 18:58:34,883 - rag_evaluation - INFO - Scores:
2025-05-30 18:58:35,041 - rag_evaluation - INFO -   answer_presence: 1.000
2025-05-30 18:58:35,158 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:58:35,299 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:58:35,456 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:58:35,641 - rag_evaluation - INFO -   overall: 0.500
2025-05-30 18:58:35,754 - rag_evaluation - INFO - 
Text RAG Average Scores:
2025-05-30 18:58:35,877 - rag_evaluation - INFO -   answer_presence: 1.000
2025-05-30 18:58:36,031 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:58:36,189 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:58:36,361 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:58:36,518 - rag_evaluation - INFO -   overall: 0.500
2025-05-30 18:58:36,667 - rag_evaluation - INFO - 
Evaluating PDF RAG...
2025-05-30 18:58:36,829 - rag_engine - INFO - RAGEngine: Received query: 'What are the best times to visit the Duomo?...'
2025-05-30 18:58:37,022 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:58:37,895 - rag_vector_db - INFO - Using existing Vector Search index: pdf_content_index (projects/708208532564/locations/us-central1/indexes/8788882424953044992)
2025-05-30 18:58:38,647 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:58:39,389 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:58:39,540 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:58:39,702 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1597c26a0> 
resource name: projects/708208532564/locations/us-central1/indexes/8788882424953044992
2025-05-30 18:58:39,859 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1597b7d30> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:58:40,016 - rag_vector_db - INFO - Index 'pdf_content_index' (as 'pdf_content_index_deploy') already deployed.
2025-05-30 18:58:40,158 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:58:40,307 - rag_vector_db - INFO - Performing search with top_k=None
2025-05-30 18:58:41,622 - rag_vector_db - INFO - Search completed. Found 5 results.
2025-05-30 18:58:41,812 - rag_engine - WARNING - Data for chunk ID documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf_7 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:42,006 - rag_engine - WARNING - Data for chunk ID documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf_8 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:42,164 - rag_engine - WARNING - Data for chunk ID documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf_6 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:42,323 - rag_engine - WARNING - Data for chunk ID documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf_9 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:42,475 - rag_engine - WARNING - Data for chunk ID documents/Must-Have-guide-to-Florence-www.goinspired.com_.pdf_15 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:42,613 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:58:42,746 - gemini_model - INFO - Using base model
2025-05-30 18:58:47,858 - gemini_model - INFO - Model response generated
2025-05-30 18:58:48,026 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 5 relevant chunks.
2025-05-30 18:58:48,211 - rag_evaluation - INFO - 
Test Case: What are the best times to visit the Duomo?
2025-05-30 18:58:48,406 - rag_evaluation - INFO - Response: The best times to visit the Duomo in Florence, Italy depend on your priorities: minimal crowds, ideal weather, specific events, or budget-friendly options. Here's a breakdown:

**For Minimal Crowds:**

*   **Early Morning (8:30 AM - 10:00 AM):** The Duomo opens at 8:30 AM, and arriving right as it opens gives you a head start before the large tour groups arrive. You'll likely encounter the shortest lines for climbing the dome and the bell tower.
*   **Late Afternoon/Early Evening (4:30 PM - 7:00 PM):** Many day-trippers will have left Florence by this time. Lines tend to decrease. The Cathedral itself closes at 7:45 PM, Brunelleschi's dome closes at 7:00 PM, and Giotto's bell tower closes at 7:00 PM.
*   **Mid-Week (Tuesday - Thursday):** Weekends are generally the busiest times, so visiting on a Tuesday, Wednesday, or Thursday can help you avoid the peak crowds.

**For Ideal Weather:**

*   **Spring (April - May) and Fall (September - October):** These seasons offer pleasant temperatures, fewer extreme weather conditions, and manageable crowds compared to the summer.

**For Avoiding Heat:**

*   **Early Morning (as mentioned above)** or **Late Afternoon/Evening:** These times allow you to explore without the intense midday heat, especially during the summer months.

**Things to Consider:**

*   **Time of Year:** Summer (June-August) is peak tourist season, meaning the highest crowds and the hottest temperatures. Winter (November-March) offers smaller crowds but can be cold and potentially rainy.
*   **Specific Attractions:** If you are interested in the dome climb, bell tower climb, or baptistery, be sure to check the individual opening hours and plan accordingly. These can have different hours than the Duomo itself.
*   **Events/Holidays:** Check the Florence calendar for any local festivals, holidays, or special events that might affect opening hours or crowd levels. Major religious holidays can impact operations.
*   **Tickets:** Booking your tickets online in advance is highly recommended, especially during peak season. This can save you a significant amount of time waiting in line. Consider a Firenze Card if you plan to visit multiple museums in Florence.
*   **Sunrise and Sunset:** Consider the time of sunrise or sunset if you want to experience the Duomo during the golden hour. The light on the exterior facade can be stunning. Remember that the dome and bell tower have restricted access during this time.

**Summary:**

The best overall times to visit the Duomo for a combination of fewer crowds and good weather are **early mornings in the spring or fall, particularly on weekdays (Tuesday - Thursday).** However, your personal preferences and priorities will ultimately determine the optimal time for your visit. Remember to book your tickets in advance!

2025-05-30 18:58:48,539 - rag_evaluation - INFO - Scores:
2025-05-30 18:58:48,654 - rag_evaluation - INFO -   answer_presence: 0.750
2025-05-30 18:58:48,777 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:58:48,970 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:58:49,131 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:58:49,267 - rag_evaluation - INFO -   overall: 0.438
2025-05-30 18:58:49,417 - rag_evaluation - INFO - 
PDF RAG Average Scores:
2025-05-30 18:58:49,576 - rag_evaluation - INFO -   answer_presence: 0.750
2025-05-30 18:58:49,722 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:58:49,855 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:58:50,022 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:58:50,188 - rag_evaluation - INFO -   overall: 0.438
2025-05-30 18:58:50,291 - rag_evaluation - INFO - 
Evaluating Multimodal RAG...
2025-05-30 18:58:50,416 - rag_engine - INFO - RAGEngine: Received query: 'Describe the Ponte Vecchio bridge...'
2025-05-30 18:58:50,611 - rag_vector_db - INFO - Initializing Vertex AI SDK for project: learningemini, location: us-central1
2025-05-30 18:58:51,432 - rag_vector_db - INFO - Using existing Vector Search index: travel_documents_index (projects/708208532564/locations/us-central1/indexes/514151428357357568)
2025-05-30 18:58:52,247 - rag_vector_db - INFO - Found existing Vector Search endpoint: travel_index_endpoint (projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304). Re-instantiating with explicit credentials.
2025-05-30 18:58:53,079 - rag_vector_db - INFO - Re-instantiated existing endpoint: travel_index_endpoint
2025-05-30 18:58:53,228 - rag_vector_db - INFO - Endpoint public domain name: 1930169006.us-central1-708208532564.vdb.vertexai.goog
2025-05-30 18:58:53,411 - rag_vector_db - INFO - Entering _deploy_index_to_endpoint. Type of self.index: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index.MatchingEngineIndex object at 0x1597c9b20> 
resource name: projects/708208532564/locations/us-central1/indexes/514151428357357568
2025-05-30 18:58:53,582 - rag_vector_db - INFO - Type of self.index_endpoint: <class 'google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint'>, Value: <google.cloud.aiplatform.matching_engine.matching_engine_index_endpoint.MatchingEngineIndexEndpoint object at 0x1597c2340> 
resource name: projects/708208532564/locations/us-central1/indexEndpoints/5284202305556578304
2025-05-30 18:58:53,679 - rag_vector_db - INFO - Index 'travel_documents_index' (as 'travel_documents_index_deploy') already deployed.
2025-05-30 18:58:53,825 - rag_vector_db - INFO - VectorSearchDB initialized successfully (infrastructure checked/created/deployed).
2025-05-30 18:58:53,966 - rag_vector_db - INFO - Performing search with top_k=3
2025-05-30 18:58:54,845 - rag_vector_db - INFO - Search completed. Found 3 results.
2025-05-30 18:58:55,022 - rag_engine - WARNING - Data for chunk ID user_001_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:55,206 - rag_engine - WARNING - Data for chunk ID user_003_trip_3 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:55,399 - rag_engine - WARNING - Data for chunk ID user_003_trip_1 not found in RAGEngine.chunk_data_map.
2025-05-30 18:58:55,573 - rag_engine - INFO - No relevant context found or context is empty. Calling LLM with original query only.
2025-05-30 18:58:55,762 - gemini_model - INFO - Using base model
2025-05-30 18:58:59,822 - gemini_model - INFO - Model response generated
2025-05-30 18:58:59,969 - rag_engine - INFO - RAGEngine: Query processing complete. LLM Call Succeeded: True. Found 3 relevant chunks.
2025-05-30 18:59:00,116 - rag_evaluation - INFO - 
Test Case: Describe the Ponte Vecchio bridge
2025-05-30 18:59:00,280 - rag_evaluation - INFO - Response: The Ponte Vecchio, meaning "Old Bridge" in Italian, is one of Florence, Italy's most iconic and recognizable landmarks. Here's a description:

**Key Features:**

*   **Location:** It spans the narrowest point of the Arno River in Florence.

*   **Unique Design:** Unlike most bridges, the Ponte Vecchio is lined with shops built along it. These shops are a major defining characteristic.

*   **History:** It is believed a bridge existed on this site since Roman times. The current bridge was built in 1345 after its predecessor was destroyed by a flood.

*   **Construction:** Made of stone, the bridge is characterized by its three segmental arches.

*   **Shops:** Originally, the shops were occupied by butchers, tanners, and farmers. However, because of the smell, in 1593, Ferdinand I decreed that only goldsmiths and jewelers could occupy the shops. To this day, the bridge is famous for these shops, making it a major tourist attraction.

*   **Vasari Corridor:** In 1565, the Vasari Corridor was built above the shops. This secret passageway connects the Uffizi Gallery with the Pitti Palace, allowing the Medici family to move between their residences without mixing with the public. The corridor offers small windows with views of the river and the Santa Felicita church.

*   **View and Atmosphere:** The bridge offers unique views of the Arno River and the surrounding city. Its lively atmosphere, bustling with tourists and shoppers, is part of its charm.

*   **World War II Survival:** It's the only bridge in Florence that was not destroyed during World War II. Legend says it was spared by direct order of Hitler.

**In essence, the Ponte Vecchio is more than just a way to cross a river; it's a historical landmark, a commercial hub, and a symbol of Florence's rich history and artistic legacy.**

2025-05-30 18:59:00,429 - rag_evaluation - INFO - Scores:
2025-05-30 18:59:00,580 - rag_evaluation - INFO -   answer_presence: 0.500
2025-05-30 18:59:00,724 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:59:00,889 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:59:01,062 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:59:01,219 - rag_evaluation - INFO -   overall: 0.375
2025-05-30 18:59:01,398 - rag_evaluation - INFO - 
Multimodal RAG Average Scores:
2025-05-30 18:59:01,553 - rag_evaluation - INFO -   answer_presence: 0.500
2025-05-30 18:59:01,680 - rag_evaluation - INFO -   context_utilization: 1.000
2025-05-30 18:59:01,803 - rag_evaluation - INFO -   response_length: 0.000
2025-05-30 18:59:01,928 - rag_evaluation - INFO -   response_time: 0.000
2025-05-30 18:59:02,124 - rag_evaluation - INFO -   overall: 0.375
